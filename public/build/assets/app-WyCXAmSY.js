import{_ as nt,Q as se,a as Z,b as vt,T as Se,c as he,d as Ce,h as xe,e as ot,f as C,g as Q,i as R,j as ct,k as de,s as Ne,u as ge,l as Be,m as Tt,n as Pt,o as pt,p as ft,q as je,r as Te,t as Pe,v as Oe,w as le,x as be,y as ke,z as D,A as yt,B as wt,L as Qe,C as z,D as ll,E as Le,F as qe,G as J,H as al,I as N,R as ee,J as ne,K as Ke,M as ze,N as Me,O as pa,P as Ae,S as H,U as Ge,V as kt,W as st,X as Ol,Y as We,Z as Ye,$ as Ut,a0 as Rl,a1 as fa,a2 as ga,a3 as _t,a4 as At,a5 as Bt,a6 as ba,a7 as _a,a8 as ht,a9 as va,aa as Dt,ab as bt,ac as Et,ad as ol,ae as ya,af as Ct,ag as nl,ah as wa,ai as sl,aj as ka,ak as ha,al as $a,am as Ul,an as Al,ao as Sa,ap as re,aq as xa,ar as qa,as as Ca,at as Va,au as Dl,av as $t,aw as Ta,ax as Pa,ay as Ma,az as Ia,aA as El,aB as Na,aC as Oa,aD as Ra,aE as Ua,aF as Aa,aG as Da,aH as Ea,aI as ja,aJ as Ba,aK as La,aL as za,aM as Ha}from"./BaseGuestLayout-C5Tdr7jb.js";import{r as j,f as O,j as k,k as e,l,m as a,p as g,F,q as S,v as X,u as t,x as E,y as u,z as Ie,o as _e,c as G,w as Ve,A as De,B,C as He,D as Y,E as Fe,h as ue,i as Ya,g as St,b as Mt,G as Fa,H as Ka,I as Qa,T as jl,K as Wa,J as fe,L as ut,M as Ja,N as Lt,n as It,O as Ga,P as Xa,Q as at}from"./vendor1-C1xRmJpw.js";import{bT as Za,eC as Vt}from"./vendor2-HOHpvscj.js";import{i as eo,a as to,b as lo,c as ao,d as oo,e as no,f as so}from"./vendor3-DfSfvoT8.js";const ro={},io={class:"row"};function uo(c,n){const p=j("i-head"),o=j("authenticated-layout");return k(),O(F,null,[e(p,{title:"About"}),e(o,null,{title:l(()=>n[0]||(n[0]=[g("About")])),default:l(()=>[a("div",io,[e(se,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(Z,null,{default:l(()=>n[1]||(n[1]=[a("div",{class:"q-mb-md text-h4"},"About",-1),a("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),a("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),a("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const mo=nt(ro,[["render",uo]]),co=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"})),po={style:{"margin-left":"-10px"}},zt={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(c,{emit:n}){const p=c,o=n;return(s,f)=>(k(),O("div",po,[e(vt,{class:"full-width q-pl-none","model-value":p.modelValue,disable:p.disable,label:p.label,"onUpdate:modelValue":f[0]||(f[0]=r=>o("update:modelValue",r))},null,8,["model-value","disable","label"])]))}},fo={class:"column"},go={class:"row"},bo={class:"flex justify-center"},_o={__name:"Login",setup(c){let n=Se({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const p=()=>xe({form:n,url:route("admin.auth.login")}),o=S(!1);return(s,f)=>{const r=j("i-head"),i=j("guest-layout");return k(),O(F,null,[e(r,{title:"Login"}),e(i,null,{default:l(()=>[e(he,{class:"row justify-center items-center"},{default:l(()=>[a("div",fo,[a("div",go,[e(Ce,{class:"q-gutter-md",onSubmit:X(p,["prevent"])},{default:l(()=>[e(se,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(Z,{class:"text-center"},{default:l(()=>[a("div",bo,[e(ot,{size:"80px"},{default:l(()=>[e(C,{name:"badge",color:"primary"})]),_:1})]),f[4]||(f[4]=a("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(Z,null,{default:l(()=>[e(Q,{modelValue:t(n).username,"onUpdate:modelValue":f[0]||(f[0]=m=>t(n).username=m),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[m=>m&&m.length>0||"Masukkan Username"],"hide-bottom-space":""},{append:l(()=>[e(C,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(Q,{modelValue:t(n).password,"onUpdate:modelValue":f[2]||(f[2]=m=>t(n).password=m),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[m=>m&&m.length>0||"Masukkan kata sandi"],"hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:f[1]||(f[1]=m=>o.value=!o.value)},{default:l(()=>[e(C,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(zt,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":f[3]||(f[3]=m=>t(n).remember=m),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(ct,null,{default:l(()=>[e(R,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},vo=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),Bl={__name:"CompanyInfoForm",setup(c){const n=S(),p=de(),o=Se({name:p.props.data.name,phone:p.props.data.phone,address:p.props.data.address}),s=()=>xe({form:o,url:route("admin.company-profile.update")});return(f,r)=>(k(),E(Ce,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>[r[3]||(r[3]=a("div",{class:"text-subtitle1 q-my-xs"},"Profil Maqsof",-1)),r[4]||(r[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(Q,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Q,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Q,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,null,{default:l(()=>[e(R,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},yo=Object.freeze(Object.defineProperty({__proto__:null,default:Bl},Symbol.toStringTag,{value:"Module"})),wo={class:"q-pa-sm"},ko={class:"row justify-center"},ho={class:"col col-lg-6"},rl="Profil Maqsof",$o={__name:"Edit",setup(c){return(n,p)=>{const o=j("i-head"),s=j("authenticated-layout");return k(),O(F,null,[e(o,{title:rl}),e(s,null,{title:l(()=>[g(u(rl))]),default:l(()=>[a("div",wo,[a("div",ko,[a("div",ho,[e(Bl)])])])]),_:1})],64)}}},So=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),xo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qo={class:"q-pa-sm"},Co={class:"flex justify-end"},il="Konfirmasi Top Up Wallet",Vo={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=S(null),w=S(!1),y=Tt(),h=Pt(),d=[{label:"Semua Tahun",value:"all"},...pt(y-2,y).reverse()],b=[{value:"all",label:"Semua Bulan"},...ft()],M=[{value:"all",label:"Semua Status"},...je(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],v=Ie({search:"",year:y,month:h,status:"all",...Te()}),L=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),I=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];_e(()=>{$()});const $=(V=null)=>{Pe({pagination:L,filter:v,props:V,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:f})},T=()=>{$()},x=G(()=>n.screen.gt.sm?I:I.filter(V=>["datetime","action"].includes(V.name)));Ve(()=>v.year,V=>{V===null&&(v.month=null)});const q=V=>al({message:`Setujui konfirmasi transaksi #${V.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",V.id),fetchItemsCallback:$,loading:s,data:{id:V.id,action:"accept"}}),P=V=>al({message:`Tolak konfirmasi transaksi #${V.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",V.id),fetchItemsCallback:$,loading:s,data:{id:V.id,action:"reject"}}),_=V=>ze({message:`Hapus konfirmasi transaksi #${V.id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",V.id),fetchItemsCallback:$,loading:s});return(V,A)=>{const W=j("i-head"),$e=j("authenticated-layout");return k(),O(F,null,[e(W,{title:il}),e($e,null,De({title:l(()=>[g(u(il))]),"right-button":l(()=>[e(R,{size:"sm",class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:A[0]||(A[0]=U=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",qo,[e(be,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:L.value,"onUpdate:pagination":A[6]||(A[6]=U=>L.value=U),filter:v.search,loading:s.value,columns:x.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:$,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),body:l(U=>[e(ke,{props:U},{default:l(()=>[e(D,{key:"datetime",props:U,class:"wrap-column"},{default:l(()=>[a("div",null,"#: "+u(U.row.formatted_id),1),a("div",null,[e(C,{name:"calendar_today",class:"inline-icon"}),g(" "+u(t(yt)(U.row.datetime))+" ("+u(t(wt)(U.row.datetime))+") ",1)]),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:0},[e(Qe,{icon:"account_balance",text:U.row.finance_account.name},null,8,["text"]),a("div",null,[e(C,{name:"person",class:"inline-icon"}),g(" "+u(U.row.customer.username)+" - "+u(U.row.customer.name),1)]),a("div",null,[e(C,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(z)(U.row.amount)),1)]),U.row.description?(k(),E(Qe,{key:0,icon:"notes",text:U.row.description},null,8,["text"])):B("",!0),a("div",null,[e(ll,{status:U.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(D,{key:"finance_account_id",props:U},{default:l(()=>[g(u(U.row.finance_account.name),1),A[8]||(A[8]=a("br",null,null,-1)),g(" "+u(U.row.finance_account.bank)+" "+u(U.row.finance_account.number)+" an. "+u(U.row.finance_account.holder),1)]),_:2},1032,["props"]),e(D,{key:"amount",props:U,style:{"text-align":"right"}},{default:l(()=>[g(" Rp. "+u(t(z)(U.row.amount)),1)]),_:2},1032,["props"]),e(D,{key:"status",props:U,class:"text-center"},{default:l(()=>[e(ll,{status:U.row.status},null,8,["status"])]),_:2},1032,["props"]),e(D,{key:"notes",props:U},{default:l(()=>[g(u(U.row.notes),1)]),_:2},1032,["props"]),e(D,{key:"action",props:U,class:"text-center"},{default:l(()=>[a("div",Co,[e(R,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:A[5]||(A[5]=X(()=>{},["stop"])),disable:U.row.status!=="pending"},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{onClick:X(ve=>q(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"check"})]),_:1}),e(N,null,{default:l(()=>A[9]||(A[9]=[g("Setujui")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(ve=>P(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"cancel"})]),_:1}),e(N,null,{default:l(()=>A[10]||(A[10]=[g("Tolak")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),e(Ke),Y((k(),E(J,{onClick:X(ve=>_(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>A[11]||(A[11]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(pa,{modelValue:w.value,"onUpdate:modelValue":A[7]||(A[7]=U=>w.value=U),imageUrl:`/${m.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",xo,[e(le,{modelValue:v.year,"onUpdate:modelValue":[A[1]||(A[1]=U=>v.year=U),T],options:d,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),v.year!=="all"?(k(),E(le,{key:0,modelValue:v.month,"onUpdate:modelValue":[A[2]||(A[2]=U=>v.month=U),T],options:b,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:v.year===null},null,8,["modelValue","disable"])):B("",!0),e(le,{modelValue:v.status,"onUpdate:modelValue":[A[3]||(A[3]=U=>v.status=U),T],options:M,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":A[4]||(A[4]=U=>v.search=U),placeholder:"Cari...",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},To=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"}));function Ht(c,n=!1){const p=c.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredCustomers:s,filterCustomersFn:(r,i)=>{i(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const Po={class:"col col-lg-6 q-pa-sm"},ul="Penyesuaian Saldo Dompet Santri",Mo={__name:"Adjustment",setup(c){const n=de(),{filteredCustomers:p,filterCustomersFn:o}=Ht(n.props.customers,!1),s=Se({customer_id:null,old_balance:0,new_balance:0,notes:""}),f=()=>s.amount=s.new_balance-s.old_balance;Ve(()=>s.customer_id,async m=>{if(!m){s.old_balance=0,s.new_balance=0,f();return}s.processing=!0;try{const w=await axios.get(route("admin.customer.balance",{id:m}));s.new_balance=s.old_balance=w.data.balance}catch(w){console.error("Gagal mengambil saldo:",w),s.old_balance=0,s.new_balance=0}s.processing=!1,f()});const r=G(()=>s.new_balance-s.old_balance),i=()=>xe({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(m,w)=>{const y=j("i-head"),h=j("authenticated-layout");return k(),O(F,null,[e(y,{title:ul}),e(h,null,{title:l(()=>[g(u(ul))]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",Po,[e(Ce,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[e(le,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":w[0]||(w[0]=d=>t(s).customer_id=d),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>w[6]||(w[6]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ae,{modelValue:t(s).old_balance,"onUpdate:modelValue":w[1]||(w[1]=d=>t(s).old_balance=d),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:t(s).new_balance,"onUpdate:modelValue":w[2]||(w[2]=d=>t(s).new_balance=d),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:r.value,"onUpdate:modelValue":w[3]||(w[3]=d=>r.value=d),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(Q,{modelValue:t(s).notes,"onUpdate:modelValue":w[4]||(w[4]=d=>t(s).notes=d),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[d=>d&&d.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:w[5]||(w[5]=d=>t(H).get(m.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Io=Object.freeze(Object.defineProperty({__proto__:null,default:Mo},Symbol.toStringTag,{value:"Module"})),No={class:"q-gutter-sm"},Oo={class:"col col-lg-6 q-pa-sm"},Ro={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:s}=Ht(n.props.customers,!1),f=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=n.props.finance_accounts.map(w=>({label:w.name,value:w.id})),i=Se({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:Ge(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),m=()=>xe({form:i,url:route("admin.customer-wallet-transaction.save")});return(w,y)=>{const h=j("i-head"),d=j("authenticated-layout");return k(),O(F,null,[e(h,{title:p}),e(d,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",No,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=b=>w.$inertia.get(w.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",Oo,[e(Ce,{class:"row",onSubmit:X(m,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=b=>t(i).id=b)},null,512),[[Fe,t(i).id]]),e(kt,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":y[2]||(y[2]=b=>t(i).datetime=b),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(le,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":y[3]||(y[3]=b=>t(i).customer_id=b),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(s),error:!!t(i).errors.customer_id,disable:t(i).processing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>y[9]||(y[9]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(le,{modelValue:t(i).type,"onUpdate:modelValue":y[4]||(y[4]=b=>t(i).type=b),label:"Jenis",options:f,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(k(),E(le,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":y[5]||(y[5]=b=>t(i).finance_account_id=b),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id},null,8,["modelValue","label","options","error","disable","errorMessage"])):B("",!0),e(Ae,{modelValue:t(i).amount,"onUpdate:modelValue":y[6]||(y[6]=b=>t(i).amount=b),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(Q,{modelValue:t(i).notes,"onUpdate:modelValue":y[7]||(y[7]=b=>t(i).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[b=>b&&b.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:y[8]||(y[8]=b=>t(H).get(w.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Uo=Object.freeze(Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"})),Ao=["top","middle","bottom"],xt=st({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:c=>Ao.includes(c)}},setup(c,{slots:n}){const p=G(()=>c.align!==void 0?{verticalAlign:c.align}:null),o=G(()=>{const s=c.outline===!0&&c.color||c.textColor;return`q-badge flex inline items-center no-wrap q-badge--${c.multiLine===!0?"multi":"single"}-line`+(c.outline===!0?" q-badge--outline":c.color!==void 0?` bg-${c.color}`:"")+(s!==void 0?` text-${s}`:"")+(c.floating===!0?" q-badge--floating":"")+(c.rounded===!0?" q-badge--rounded":"")+(c.transparent===!0?" q-badge--transparent":"")});return()=>ue("div",{class:o.value,style:p.value,role:"status","aria-label":c.label},Ol(n.default,c.label!==void 0?[c.label]:[]))}}),Do={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Eo={class:"q-pa-sm"},jo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Bo={class:"flex justify-end"},dl="Transaksi Dompet Santri",Lo={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=new Date().getFullYear(),w=new Date().getMonth()+1,y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...pt(m-2,m-1).reverse()],h=[{value:"all",label:"Semua Bulan"},...ft()],d=Ie({search:"",year:m,month:w,...Te()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),M=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{L()});const v=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:L,loading:s}),L=(T=null)=>{Pe({pagination:b,filter:d,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:f})},I=()=>{L()},$=G(()=>n.screen.gt.sm?M:M.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,x)=>{const q=j("i-head"),P=j("authenticated-layout");return k(),O(F,null,[e(q,{title:dl}),e(P,null,De({title:l(()=>[g(u(dl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:x[0]||(x[0]=_=>t(H).get(T.route("admin.customer-wallet-transaction.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:x[1]||(x[1]=_=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",Eo,[e(be,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":x[6]||(x[6]=_=>b.value=_),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:L,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:V,filter:A})=>[a("div",jo,[a("span",null,u(V)+" "+u(A?" with term "+A:""),1)])]),body:l(_=>[e(ke,{props:_},{default:l(()=>[e(D,{key:"datetime",props:_,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #: "+u(_.row.formatted_id)+" ",1),x[7]||(x[7]=a("br",null,null,-1)),e(C,{name:"calendar_today"}),g(" "+u(t(yt)(_.row.datetime))+" ("+u(t(wt)(_.row.datetime))+") ",1)]),a("div",null,[e(C,{name:"account_balance",class:"inline-icon"}),g(" "+u(_.row.finance_account?_.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:0},[e(Qe,{icon:"person",text:_.row.customer.username+" -"+_.row.customer.name},null,8,["text"]),a("div",null,[e(C,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(We)(_.row.amount)+t(z)(_.row.amount))+" ",1),e(xt,null,{default:l(()=>[e(C,{name:"category"}),g(" "+u(_.row.type_label),1)]),_:2},1024)]),e(Qe,{text:_.row.notes,icon:"notes"},null,8,["text"])],64))]),_:2},1032,["props"]),e(D,{key:"customer",props:_},{default:l(()=>[e(Qe,{text:_.row.customer.username+" -"+_.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(D,{key:"notes",props:_},{default:l(()=>[e(Qe,{text:_.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(D,{key:"amount",props:_,style:{"text-align":"right"}},{default:l(()=>[g(u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:_},{default:l(()=>[a("div",Bo,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{onClick:X(V=>v(_.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[8]||(x[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Do,[e(le,{modelValue:d.year,"onUpdate:modelValue":[x[2]||(x[2]=_=>d.year=_),I],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(le,{modelValue:d.month,"onUpdate:modelValue":[x[3]||(x[3]=_=>d.month=_),I],options:h,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":x[4]||(x[4]=_=>d.search=_),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},zo=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"}));let Ho=0;const Yo=["click","keydown"],Fo={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ho++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Ko(c,n,p,o){const s=Ya(Rl,Ut);if(s===Ut)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ut;const{proxy:f}=St(),r=S(null),i=S(null),m=S(null),w=G(()=>c.disable===!0||c.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},c.ripple===!0?{}:c.ripple)),y=G(()=>s.currentModel.value===c.name),h=G(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(c.icon&&c.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(c.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(c.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=G(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(c.contentClass!==void 0?` ${c.contentClass}`:"")),b=G(()=>c.disable===!0||s.hasFocus.value===!0||y.value===!1&&s.hasActiveTab.value===!0?-1:c.tabindex||0);function M(T,x){if(x!==!0&&r.value!==null&&r.value.focus(),c.disable!==!0){s.updateModel({name:c.name}),p("click",T);return}}function v(T){fa(T,[13,32])?M(T,!0):ga(T)!==!0&&T.keyCode>=35&&T.keyCode<=40&&T.altKey!==!0&&T.metaKey!==!0&&s.onKbdNavigate(T.keyCode,f.$el)===!0&&_t(T),p("keydown",T)}function L(){const T=s.tabProps.value.narrowIndicator,x=[],q=ue("div",{ref:m,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});c.icon!==void 0&&x.push(ue(C,{class:"q-tab__icon",name:c.icon})),c.label!==void 0&&x.push(ue("div",{class:"q-tab__label"},c.label)),c.alert!==!1&&x.push(c.alertIcon!==void 0?ue(C,{class:"q-tab__alert-icon",color:c.alert!==!0?c.alert:void 0,name:c.alertIcon}):ue("div",{class:"q-tab__alert"+(c.alert!==!0?` text-${c.alert}`:"")})),T===!0&&x.push(q);const P=[ue("div",{class:"q-focus-helper",tabindex:-1,ref:r}),ue("div",{class:d.value},Ol(n.default,x))];return T===!1&&P.push(q),P}const I={name:G(()=>c.name),rootRef:i,tabIndicatorRef:m,routeData:o};Mt(()=>{s.unregisterTab(I)}),_e(()=>{s.registerTab(I)});function $(T,x){const q={ref:i,class:h.value,tabindex:b.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":c.disable===!0?"true":void 0,onClick:M,onKeydown:v,...x};return Y(ue(T,q,L()),[[ee,w.value]])}return{renderTab:$,$tabs:s}}const dt=st({name:"QTab",props:Fo,emits:Yo,setup(c,{slots:n,emit:p}){const{renderTab:o}=Ko(c,n,p);return()=>o("div")}});function Qo(c,n,p){const o=p===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${c?` text-${c}`:""}`}const Wo=["left","center","right","justify"],Yt=st({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:c=>Wo.includes(c)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(c,{slots:n,emit:p}){const{proxy:o}=St(),{$q:s}=o,{registerTick:f}=At(),{registerTick:r}=At(),{registerTick:i}=At(),{registerTimeout:m,removeTimeout:w}=Bt(),{registerTimeout:y,removeTimeout:h}=Bt(),d=S(null),b=S(null),M=S(c.modelValue),v=S(!1),L=S(!0),I=S(!1),$=S(!1),T=[],x=S(0),q=S(!1);let P=null,_=null,V;const A=G(()=>({activeClass:c.activeClass,activeColor:c.activeColor,activeBgColor:c.activeBgColor,indicatorClass:Qo(c.indicatorColor,c.switchIndicator,c.vertical),narrowIndicator:c.narrowIndicator,inlineLabel:c.inlineLabel,noCaps:c.noCaps})),W=G(()=>{const K=x.value,te=M.value;for(let ie=0;ie<K;ie++)if(T[ie].name.value===te)return!0;return!1}),$e=G(()=>`q-tabs__content--align-${v.value===!0?"left":$.value===!0?"justify":c.align}`),U=G(()=>`q-tabs row no-wrap items-center q-tabs--${v.value===!0?"":"not-"}scrollable q-tabs--${c.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${c.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${c.mobileArrows===!0?"":"out"}-arrows`+(c.dense===!0?" q-tabs--dense":"")+(c.shrink===!0?" col-shrink":"")+(c.stretch===!0?" self-stretch":"")),ve=G(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+$e.value+(c.contentClass!==void 0?` ${c.contentClass}`:"")),ae=G(()=>c.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ce=G(()=>c.vertical!==!0&&s.lang.rtl===!0),Re=G(()=>ba===!1&&ce.value===!0);Ve(ce,it),Ve(()=>c.modelValue,K=>{oe({name:K,setCurrent:!0,skipEmit:!0})}),Ve(()=>c.outsideArrows,Ee);function oe({name:K,setCurrent:te,skipEmit:ie}){M.value!==K&&(ie!==!0&&c["onUpdate:modelValue"]!==void 0&&p("update:modelValue",K),(te===!0||c["onUpdate:modelValue"]===void 0)&&(Nt(M.value,K),M.value=K))}function Ee(){f(()=>{et({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function et(K){if(ae.value===void 0||b.value===null)return;const te=K[ae.value.container],ie=Math.min(b.value[ae.value.scroll],Array.prototype.reduce.call(b.value.children,(we,pe)=>we+(pe[ae.value.content]||0),0)),ye=te>0&&ie>te;v.value=ye,ye===!0&&r(it),$.value=te<parseInt(c.breakpoint,10)}function Nt(K,te){const ie=K!=null&&K!==""?T.find(we=>we.name.value===K):null,ye=te!=null&&te!==""?T.find(we=>we.name.value===te):null;if(qt===!0)qt=!1;else if(ie&&ye){const we=ie.tabIndicatorRef.value,pe=ye.tabIndicatorRef.value;P!==null&&(clearTimeout(P),P=null),we.style.transition="none",we.style.transform="none",pe.style.transition="none",pe.style.transform="none";const me=we.getBoundingClientRect(),Ue=pe.getBoundingClientRect();pe.style.transform=c.vertical===!0?`translate3d(0,${me.top-Ue.top}px,0) scale3d(1,${Ue.height?me.height/Ue.height:1},1)`:`translate3d(${me.left-Ue.left}px,0,0) scale3d(${Ue.width?me.width/Ue.width:1},1,1)`,i(()=>{P=setTimeout(()=>{P=null,pe.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",pe.style.transform="none"},70)})}ye&&v.value===!0&&rt(ye.rootRef.value)}function rt(K){const{left:te,width:ie,top:ye,height:we}=b.value.getBoundingClientRect(),pe=K.getBoundingClientRect();let me=c.vertical===!0?pe.top-ye:pe.left-te;if(me<0){b.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(me),it();return}me+=c.vertical===!0?pe.height-we:pe.width-ie,me>0&&(b.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(me),it())}function it(){const K=b.value;if(K===null)return;const te=K.getBoundingClientRect(),ie=c.vertical===!0?K.scrollTop:Math.abs(K.scrollLeft);ce.value===!0?(L.value=Math.ceil(ie+te.width)<K.scrollWidth-1,I.value=ie>0):(L.value=ie>0,I.value=c.vertical===!0?Math.ceil(ie+te.height)<K.scrollHeight:Math.ceil(ie+te.width)<K.scrollWidth)}function Qt(K){_!==null&&clearInterval(_),_=setInterval(()=>{na(K)===!0&&Xe()},5)}function Wt(){Qt(Re.value===!0?Number.MAX_SAFE_INTEGER:0)}function Jt(){Qt(Re.value===!0?0:Number.MAX_SAFE_INTEGER)}function Xe(){_!==null&&(clearInterval(_),_=null)}function aa(K,te){const ie=Array.prototype.filter.call(b.value.children,Ue=>Ue===te||Ue.matches&&Ue.matches(".q-tab.q-focusable")===!0),ye=ie.length;if(ye===0)return;if(K===36)return rt(ie[0]),ie[0].focus(),!0;if(K===35)return rt(ie[ye-1]),ie[ye-1].focus(),!0;const we=K===(c.vertical===!0?38:37),pe=K===(c.vertical===!0?40:39),me=we===!0?-1:pe===!0?1:void 0;if(me!==void 0){const Ue=ce.value===!0?-1:1,Je=ie.indexOf(te)+me*Ue;return Je>=0&&Je<ye&&(rt(ie[Je]),ie[Je].focus({preventScroll:!0})),!0}}const oa=G(()=>Re.value===!0?{get:K=>Math.abs(K.scrollLeft),set:(K,te)=>{K.scrollLeft=-te}}:c.vertical===!0?{get:K=>K.scrollTop,set:(K,te)=>{K.scrollTop=te}}:{get:K=>K.scrollLeft,set:(K,te)=>{K.scrollLeft=te}});function na(K){const te=b.value,{get:ie,set:ye}=oa.value;let we=!1,pe=ie(te);const me=K<pe?-1:1;return pe+=me*5,pe<0?(we=!0,pe=0):(me===-1&&pe<=K||me===1&&pe>=K)&&(we=!0,pe=K),ye(te,pe),it(),we}function Gt(K,te){for(const ie in K)if(K[ie]!==te[ie])return!1;return!0}function sa(){let K=null,te={matchedLen:0,queryDiff:9999,hrefLen:0};const ie=T.filter(me=>me.routeData!==void 0&&me.routeData.hasRouterLink.value===!0),{hash:ye,query:we}=o.$route,pe=Object.keys(we).length;for(const me of ie){const Ue=me.routeData.exact.value===!0;if(me.routeData[Ue===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Je,query:Ot,matched:ma,href:ca}=me.routeData.resolvedLink.value,Rt=Object.keys(Ot).length;if(Ue===!0){if(Je!==ye||Rt!==pe||Gt(we,Ot)===!1)continue;K=me.name.value;break}if(Je!==""&&Je!==ye||Rt!==0&&Gt(Ot,we)===!1)continue;const Ze={matchedLen:ma.length,queryDiff:pe-Rt,hrefLen:ca.length-Je.length};if(Ze.matchedLen>te.matchedLen){K=me.name.value,te=Ze;continue}else if(Ze.matchedLen!==te.matchedLen)continue;if(Ze.queryDiff<te.queryDiff)K=me.name.value,te=Ze;else if(Ze.queryDiff!==te.queryDiff)continue;Ze.hrefLen>te.hrefLen&&(K=me.name.value,te=Ze)}if(K===null&&T.some(me=>me.routeData===void 0&&me.name.value===M.value)===!0){qt=!1;return}oe({name:K,setCurrent:!0})}function ra(K){if(w(),q.value!==!0&&d.value!==null&&K.target&&typeof K.target.closest=="function"){const te=K.target.closest(".q-tab");te&&d.value.contains(te)===!0&&(q.value=!0,v.value===!0&&rt(te))}}function ia(){m(()=>{q.value=!1},30)}function gt(){Zt.avoidRouteWatcher===!1?y(sa):h()}function Xt(){if(V===void 0){const K=Ve(()=>o.$route.fullPath,gt);V=()=>{K(),V=void 0}}}function ua(K){T.push(K),x.value++,Ee(),K.routeData===void 0||o.$route===void 0?y(()=>{if(v.value===!0){const te=M.value,ie=te!=null&&te!==""?T.find(ye=>ye.name.value===te):null;ie&&rt(ie.rootRef.value)}}):(Xt(),K.routeData.hasRouterLink.value===!0&&gt())}function da(K){T.splice(T.indexOf(K),1),x.value--,Ee(),V!==void 0&&K.routeData!==void 0&&(T.every(te=>te.routeData===void 0)===!0&&V(),gt())}const Zt={currentModel:M,tabProps:A,hasFocus:q,hasActiveTab:W,registerTab:ua,unregisterTab:da,verifyRouteModel:gt,updateModel:oe,onKbdNavigate:aa,avoidRouteWatcher:!1};Qa(Rl,Zt);function el(){P!==null&&clearTimeout(P),Xe(),V!==void 0&&V()}let tl,qt;return Mt(el),Fa(()=>{tl=V!==void 0,el()}),Ka(()=>{tl===!0&&(Xt(),qt=!0,gt()),Ee()}),()=>ue("div",{ref:d,class:U.value,role:"tablist",onFocusin:ra,onFocusout:ia},[ue(_a,{onResize:et}),ue("div",{ref:b,class:ve.value,onScroll:it},ht(n.default)),ue(C,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:c.leftIcon||s.iconSet.tabs[c.vertical===!0?"up":"left"],onMousedownPassive:Wt,onTouchstartPassive:Wt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe}),ue(C,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(I.value===!0?"":" q-tabs__arrow--faded"),name:c.rightIcon||s.iconSet.tabs[c.vertical===!0?"down":"right"],onMousedownPassive:Jt,onTouchstartPassive:Jt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe})])}});function Jo(c){const n=[.06,6,50];return typeof c=="string"&&c.length&&c.split(":").forEach((p,o)=>{const s=parseFloat(p);s&&(n[o]=s)}),n}const Go=va({name:"touch-swipe",beforeMount(c,{value:n,arg:p,modifiers:o}){if(o.mouse!==!0&&bt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",f={handler:n,sensitivity:Jo(p),direction:ol(o),noop:ya,mouseStart(r){sl(r,f)&&ka(r)&&(Ct(f,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),f.start(r,!0))},touchStart(r){if(sl(r,f)){const i=r.target;Ct(f,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),f.start(r)}},start(r,i){bt.is.firefox===!0&&Et(c,!0);const m=nl(r);f.event={x:m.left,y:m.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(f.event===void 0)return;if(f.event.dir!==!1){_t(r);return}const i=Date.now()-f.event.time;if(i===0)return;const m=nl(r),w=m.left-f.event.x,y=Math.abs(w),h=m.top-f.event.y,d=Math.abs(h);if(f.event.mouse!==!0){if(y<f.sensitivity[1]&&d<f.sensitivity[1]){f.end(r);return}}else if(window.getSelection().toString()!==""){f.end(r);return}else if(y<f.sensitivity[2]&&d<f.sensitivity[2])return;const b=y/i,M=d/i;f.direction.vertical===!0&&y<d&&y<100&&M>f.sensitivity[0]&&(f.event.dir=h<0?"up":"down"),f.direction.horizontal===!0&&y>d&&d<100&&b>f.sensitivity[0]&&(f.event.dir=w<0?"left":"right"),f.direction.up===!0&&y<d&&h<0&&y<100&&M>f.sensitivity[0]&&(f.event.dir="up"),f.direction.down===!0&&y<d&&h>0&&y<100&&M>f.sensitivity[0]&&(f.event.dir="down"),f.direction.left===!0&&y>d&&w<0&&d<100&&b>f.sensitivity[0]&&(f.event.dir="left"),f.direction.right===!0&&y>d&&w>0&&d<100&&b>f.sensitivity[0]&&(f.event.dir="right"),f.event.dir!==!1?(_t(r),f.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),wa(),f.styleCleanup=v=>{f.styleCleanup=void 0,document.body.classList.remove("non-selectable");const L=()=>{document.body.classList.remove("no-pointer-events--children")};v===!0?setTimeout(L,50):L()}),f.handler({evt:r,touch:f.event.mouse!==!0,mouse:f.event.mouse,direction:f.event.dir,duration:i,distance:{x:y,y:d}})):f.end(r)},end(r){f.event!==void 0&&(Dt(f,"temp"),bt.is.firefox===!0&&Et(c,!1),f.styleCleanup!==void 0&&f.styleCleanup(!0),r!==void 0&&f.event.dir!==!1&&_t(r),f.event=void 0)}};if(c.__qtouchswipe=f,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Ct(f,"main",[[c,"mousedown","mouseStart",`passive${r}`]])}bt.has.touch===!0&&Ct(f,"main",[[c,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[c,"touchmove","noop","notPassiveCapture"]])},updated(c,n){const p=c.__qtouchswipe;p!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&p.end(),p.handler=n.value),p.direction=ol(n.modifiers))},beforeUnmount(c){const n=c.__qtouchswipe;n!==void 0&&(Dt(n,"main"),Dt(n,"temp"),bt.is.firefox===!0&&Et(c,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete c.__qtouchswipe)}}),Xo={name:{required:!0},disable:Boolean},ml={setup(c,{slots:n}){return()=>ue("div",{class:"q-panel scroll",role:"tabpanel"},ht(n.default))}},Zo={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},en=["update:modelValue","beforeTransition","transition"];function tn(){const{props:c,emit:n,proxy:p}=St(),{getCache:o}=$a(),{registerTimeout:s}=Bt();let f,r;const i=S(null),m=S(null);function w(ae){const ce=c.vertical===!0?"up":"left";V((p.$q.lang.rtl===!0?-1:1)*(ae.direction===ce?1:-1))}const y=G(()=>[[Go,w,void 0,{horizontal:c.vertical!==!0,vertical:c.vertical,mouse:!0}]]),h=G(()=>c.transitionPrev||`slide-${c.vertical===!0?"down":"right"}`),d=G(()=>c.transitionNext||`slide-${c.vertical===!0?"up":"left"}`),b=G(()=>`--q-transition-duration: ${c.transitionDuration}ms`),M=G(()=>typeof c.modelValue=="string"||typeof c.modelValue=="number"?c.modelValue:String(c.modelValue)),v=G(()=>({include:c.keepAliveInclude,exclude:c.keepAliveExclude,max:c.keepAliveMax})),L=G(()=>c.keepAliveInclude!==void 0||c.keepAliveExclude!==void 0);Ve(()=>c.modelValue,(ae,ce)=>{const Re=x(ae)===!0?q(ae):-1;r!==!0&&_(Re===-1?0:Re<q(ce)?-1:1),i.value!==Re&&(i.value=Re,n("beforeTransition",ae,ce),s(()=>{n("transition",ae,ce)},c.transitionDuration))});function I(){V(1)}function $(){V(-1)}function T(ae){n("update:modelValue",ae)}function x(ae){return ae!=null&&ae!==""}function q(ae){return f.findIndex(ce=>ce.props.name===ae&&ce.props.disable!==""&&ce.props.disable!==!0)}function P(){return f.filter(ae=>ae.props.disable!==""&&ae.props.disable!==!0)}function _(ae){const ce=ae!==0&&c.animated===!0&&i.value!==-1?"q-transition--"+(ae===-1?h.value:d.value):null;m.value!==ce&&(m.value=ce)}function V(ae,ce=i.value){let Re=ce+ae;for(;Re!==-1&&Re<f.length;){const oe=f[Re];if(oe!==void 0&&oe.props.disable!==""&&oe.props.disable!==!0){_(ae),r=!0,n("update:modelValue",oe.props.name),setTimeout(()=>{r=!1});return}Re+=ae}c.infinite===!0&&f.length!==0&&ce!==-1&&ce!==f.length&&V(ae,ae===-1?f.length:-1)}function A(){const ae=q(c.modelValue);return i.value!==ae&&(i.value=ae),!0}function W(){const ae=x(c.modelValue)===!0&&A()&&f[i.value];return c.keepAlive===!0?[ue(Wa,v.value,[ue(L.value===!0?o(M.value,()=>({...ml,name:M.value})):ml,{key:M.value,style:b.value},()=>ae)])]:[ue("div",{class:"q-panel scroll",style:b.value,key:M.value,role:"tabpanel"},[ae])]}function $e(){if(f.length!==0)return c.animated===!0?[ue(jl,{name:m.value},W)]:W()}function U(ae){return f=ha(ht(ae.default,[])).filter(ce=>ce.props!==null&&ce.props.slot===void 0&&x(ce.props.name)===!0),f.length}function ve(){return f}return Object.assign(p,{next:I,previous:$,goTo:T}),{panelIndex:i,panelDirectives:y,updatePanelsList:U,updatePanelIndex:A,getPanelContent:$e,getEnabledPanels:P,getPanels:ve,isValidPanelName:x,keepAliveProps:v,needsUniqueKeepAliveWrapper:L,goToPanelByOffset:V,goToPanel:T,nextPanel:I,previousPanel:$}}const mt=st({name:"QTabPanel",props:Xo,setup(c,{slots:n}){return()=>ue("div",{class:"q-tab-panel",role:"tabpanel"},ht(n.default))}}),Ft=st({name:"QTabPanels",props:{...Zo,...Ul},emits:en,setup(c,{slots:n}){const p=St(),o=Al(c,p.proxy.$q),{updatePanelsList:s,getPanelContent:f,panelDirectives:r}=tn(),i=G(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Sa("div",{class:i.value},f(),"pan",c.swipeable,()=>r.value))}}),ln={class:"q-gutter-sm"},an={class:"q-gutter-sm"},on={class:"col col-lg-6 q-pa-sm"},nn={class:"row"},sn={class:"detail"},rn={key:0},un={class:"text-grey-8"},dn={key:1},mn={class:"text-grey-8"},cn={key:2},pn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},fn={class:"text-grey-8"},cl="Rincian Santri",gn={__name:"Detail",setup(c){const n=de(),p=S("main"),o=S([]),s=S(!0),f=Ie({customer_id:n.props.data.id,...Te()}),r=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];_e(()=>{m()});const m=(h=null)=>Pe({pagination:r,filter:f,props:h,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),w=ge(),y=G(()=>w.screen.gt.sm?i:i.filter(h=>h.name==="id"));return(h,d)=>{const b=j("i-head"),M=j("authenticated-layout");return k(),O(F,null,[e(b,{title:cl}),e(M,null,{title:l(()=>[g(u(cl))]),"left-button":l(()=>[a("div",ln,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=v=>h.$inertia.get(h.route("admin.customer.index")))})])]),"right-button":l(()=>[a("div",an,[e(R,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=v=>h.$inertia.get(h.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",on,[a("div",nn,[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Yt,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=v=>p.value=v),align:"left"},{default:l(()=>[e(dt,{name:"main",label:"Info Utama"}),e(dt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Ft,{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=v=>p.value=v)},{default:l(()=>[e(mt,{name:"main"},{default:l(()=>[a("table",sn,[a("tbody",null,[d[28]||(d[28]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),a("tr",null,[d[5]||(d[5]=a("td",{style:{width:"120px"}},"Username",-1)),d[6]||(d[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(n).props.data.username),1)]),a("tr",null,[d[7]||(d[7]=a("td",null,"Jenis",-1)),d[8]||(d[8]=a("td",null,":",-1)),a("td",null,u(h.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),a("tr",null,[d[9]||(d[9]=a("td",null,"Nama",-1)),d[10]||(d[10]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.name),1)]),a("tr",null,[d[11]||(d[11]=a("td",null,"No. Telepon",-1)),d[12]||(d[12]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.phone),1)]),a("tr",null,[d[13]||(d[13]=a("td",null,"Alamat",-1)),d[14]||(d[14]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.address),1)]),a("tr",null,[d[15]||(d[15]=a("td",null,"Saldo",-1)),d[16]||(d[16]=a("td",null,":",-1)),a("td",null,"Rp. "+u(t(z)(t(n).props.data.balance)),1)]),a("tr",null,[d[17]||(d[17]=a("td",null,"Status",-1)),d[18]||(d[18]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),d[29]||(d[29]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8 q-mt-md"}," Info Akun ")])],-1)),t(n).props.data.created_at?(k(),O("tr",rn,[d[19]||(d[19]=a("td",null,"Dibuat",-1)),d[20]||(d[20]=a("td",null,":",-1)),a("td",null,[g(u(t(yt)(t(n).props.data.created_at))+" ",1),a("span",un,"("+u(t(wt)(t(n).props.data.created_at))+")",1)])])):B("",!0),t(n).props.data.updated_at?(k(),O("tr",dn,[d[21]||(d[21]=a("td",null,"Diperbarui",-1)),d[22]||(d[22]=a("td",null,":",-1)),a("td",null,[g(u(t(yt)(t(n).props.data.updated_at))+" ",1),a("span",mn,"("+u(t(wt)(t(n).props.data.updated_at))+")",1)])])):B("",!0),a("tr",null,[d[23]||(d[23]=a("td",null,"Terakhir login",-1)),d[24]||(d[24]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.last_login_datetime?h.$dayjs(new Date(t(n).props.data.last_login_datetime)).format("DD MMMM YY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(k(),O("tr",cn,[d[26]||(d[26]=a("td",null,"Aktifitas Terakhir",-1)),d[27]||(d[27]=a("td",null,":",-1)),a("td",null,[g(u(h.$dayjs(new Date(t(n).props.data.last_activity_datetime)).format("DD MMMM YY HH:mm:ss"))+" ",1),d[25]||(d[25]=a("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])):B("",!0)])])]),_:1}),e(mt,{name:"history"},{default:l(()=>[e(be,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=v=>r.value=v),filter:f.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:v,message:L,filter:I})=>[a("div",pn,[a("span",null,u(L)+" "+u(I?" with term "+I:""),1)])]),body:l(v=>[e(ke,{props:v},{default:l(()=>[e(D,{key:"id",props:v},{default:l(()=>[a("div",null,[a("b",null,"#"+u(v.row.id),1),g("- "+u(h.$dayjs(new Date(v.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1)]),e(xt,{size:"xs"},{default:l(()=>[e(C,{name:"category"}),g(" "+u(v.row.type_label),1)]),_:2},1024),t(w).screen.lt.md?(k(),O(F,{key:0},[a("div",null,[e(C,{name:"money"}),a("span",{class:fe(v.row.amount<0?"text-red-10":v.row.amount>0?"text-green-10":"")},u(t(We)(v.row.amount))+" "+u(t(z)(v.row.amount)),3)]),a("div",fn,[e(C,{name:"notes"}),g(" "+u(v.row.notes),1)])],64)):B("",!0)]),_:2},1032,["props"]),e(D,{key:"notes",props:v},{default:l(()=>[g(u(v.row.notes),1)]),_:2},1032,["props"]),e(D,{key:"amount",props:v},{default:l(()=>[a("div",{class:fe(v.row.amount<0?"text-red-10":v.row.amount>0?"text-green-10":"")},u(t(We)(v.row.amount))+" "+u(t(z)(v.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},bn=Object.freeze(Object.defineProperty({__proto__:null,default:gn},Symbol.toStringTag,{value:"Module"})),_n={class:"q-gutter-sm"},vn={class:"col col-lg-6 q-pa-sm"},yn={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Se({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>xe({form:o,url:route("admin.customer.save")});return(f,r)=>{const i=j("i-head"),m=j("authenticated-layout");return k(),O(F,null,[e(i,{title:p}),e(m,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",_n,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=w=>f.$inertia.get(f.route("admin.customer.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",vn,[e(Ce,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=w=>t(o).id=w)},null,512),[[Fe,t(o).id]]),e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[e(Q,{modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=w=>t(o).username=w),modelModifiers:{trim:!0},label:"NIS",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[w=>w&&w.length>0||"NIS harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=w=>t(o).name=w),modelModifiers:{trim:!0},label:"Nama Santri",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[w=>w&&w.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=w=>t(o).phone=w),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[w=>w&&w.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Q,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=w=>t(o).address=w),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[w=>w&&w.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Q,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=w=>t(o).password=w),type:"password",label:t(o).id?"Kata Sandi Baru (Wajib diisi)":"Kata Sandi (Isi jika ingin mengganti)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(zt,{modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=w=>t(o).active=w),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:r[8]||(r[8]=w=>t(H).get(f.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},wn=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"})),kn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},hn={class:"q-pa-sm"},$n={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Sn={class:"flex justify-end"},pl="Pelanggan",xn={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Ie({search:"",status:"active",...Te()}),w=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],h=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];_e(()=>{b()});const d=I=>ze({message:`Hapus Santri ${I.name}?`,url:route("admin.customer.delete",I.id),fetchItemsCallback:b,loading:s}),b=(I=null)=>{Pe({pagination:w,filter:m,props:I,rows:o,url:route("admin.customer.data"),loading:s,tableRef:f})},M=()=>b(),v=I=>H.get(route("admin.customer.detail",{id:I.id})),L=G(()=>n.screen.gt.sm?y:y.filter(I=>I.name==="username"||I.name==="action"));return(I,$)=>{const T=j("i-head"),x=j("authenticated-layout");return k(),O(F,null,[e(T,{title:pl}),e(x,null,De({title:l(()=>[g(u(pl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=q=>t(H).get(I.route("admin.customer.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=q=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",hn,[e(be,{class:"full-height-table",style:He({height:t(i)}),ref_key:"tableRef",ref:f,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:w.value,"onUpdate:pagination":$[5]||($[5]=q=>w.value=q),filter:m.search,loading:s.value,columns:L.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:q,message:P,filter:_})=>[a("div",$n,[a("span",null,u(P)+" "+u(_?" with term "+_:""),1)])]),body:l(q=>[e(ke,{props:q,class:fe([q.row.active?"":"bg-red-1","cursor-pointer"]),onClick:P=>v(q.row)},{default:l(()=>[e(D,{key:"username",props:q,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(k(),E(C,{key:0,name:"person"})):B("",!0),g(" "+u(q.row.username),1)]),t(n).screen.lt.md?(k(),O(F,{key:0},[a("div",null,[t(n).screen.lt.md?(k(),E(C,{key:0,name:"person"})):B("",!0),g(" "+u(q.row.name),1)]),a("div",null,[e(C,{name:"phone"}),g(" "+u(q.row.phone),1)]),e(Qe,{text:q.row.address,icon:"home_pin"},null,8,["text"]),a("div",null,[e(C,{name:"wallet"}),g(" Rp. "+u(t(z)(q.row.balance)),1)])],64)):B("",!0)]),_:2},1032,["props"]),e(D,{key:"name",props:q},{default:l(()=>[g(u(q.row.name),1)]),_:2},1032,["props"]),e(D,{key:"balance",props:q},{default:l(()=>[g(u(t(z)(q.row.balance)),1)]),_:2},1032,["props"]),e(D,{key:"phone",props:q},{default:l(()=>[g(u(q.row.phone),1)]),_:2},1032,["props"]),e(D,{key:"address",props:q},{default:l(()=>[e(Qe,{text:q.row.address},null,8,["text"])]),_:2},1032,["props"]),e(D,{key:"action",props:q},{default:l(()=>[a("div",Sn,[e(R,{disabled:!t(Ye)(I.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[4]||($[4]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(P=>t(H).get(I.route("admin.customer.edit",q.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>$[6]||($[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(P=>d(q.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>$[7]||($[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",kn,[e(le,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=q=>m.status=q),M],options:h,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=q=>m.search=q),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},qn=Object.freeze(Object.defineProperty({__proto__:null,default:xn},Symbol.toStringTag,{value:"Module"})),Cn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vn={class:"q-pa-sm"},Tn={class:"q-pa-none"},Pn={class:"q-pb-sm"},Mn={class:"row q-col-gutter-sm"},In={class:"row items-center no-wrap"},Nn={class:"q-ml-md"},On={class:"text-subtitle2 text-grey-8"},Rn={class:"text-h6 text-weight-bold"},Un={class:"row q-col-gutter-sm q-pb-sm"},An={class:"col-md-6 col-12"},Dn={class:"col-md-6 col-12"},En={class:"row q-col-gutter-sm q-pb-sm"},jn={class:"col-md-6 col-12"},Bn={class:"col-md-6 col-12"},fl="Dashboard",Ln={__name:"Index",setup(c){Za([eo,to,lo,ao,oo,no,so]);const n=S({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),p=S(!1),o=S(Te().month??"this_month"),s=S([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),f=()=>{H.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=G(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(y){let h=y[0].name+"<br/>";return y.forEach(function(d){h+=d.marker+" "+d.seriesName+": "+z(d.value)+"<br/>"}),h}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:y=>z(y),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),m=G(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(y){return y.name+"<br/>"+y.seriesName+": "+z(y.value)+" ("+y.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:y=>r[y.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),w=S([{label:"Total Santri",value:G(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:G(()=>z(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:G(()=>z(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:G(()=>z(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(y,h)=>{const d=j("i-head"),b=j("authenticated-layout");return k(),O(F,null,[e(d,{title:fl}),e(b,null,De({title:l(()=>[g(u(fl))]),"right-button":l(()=>[e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:h[0]||(h[0]=M=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",Vn,[a("div",Tn,[a("div",Pn,[h[2]||(h[2]=a("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),a("div",Mn,[(k(!0),O(F,null,ut(w.value,(M,v)=>(k(),O("div",{key:v,class:"col-12 col-md-3"},[e(se,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[a("div",In,[e(ot,{icon:M.icon,color:M.color,"text-color":M.bgColor},null,8,["icon","color","text-color"]),a("div",Nn,[a("div",On,u(M.label),1),a("div",Rn,u(M.value),1)])])]),_:2},1024)]))),128))])])]),a("div",Un,[a("div",An,[e(se,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[h[3]||(h[3]=a("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Vt),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),a("div",Dn,[e(se,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[h[4]||(h[4]=a("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Vt),{class:"chart",option:m.value,autoresize:""},null,8,["option"])]),_:1})])]),a("div",En,[a("div",jn,[e(se,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[h[5]||(h[5]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e(qe,{separator:""},{default:l(()=>[(k(!0),O(F,null,ut(n.value.top_customers_sales,(M,v)=>(k(),E(J,{key:v},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(ot,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[g(u(v+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>[g(u(M.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:l(()=>[e(re,{class:"text-primary"},{default:l(()=>[g(u(t(z)(M.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a("div",Bn,[e(se,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[h[6]||(h[6]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e(qe,{separator:""},{default:l(()=>[(k(!0),O(F,null,ut(n.value.top_customers_topup,(M,v)=>(k(),E(J,{key:v},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(ot,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[g(u(v+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>[g(u(M.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:l(()=>[e(re,{class:"text-green-7"},{default:l(()=>[g(u(t(z)(M.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar"},{default:l(()=>[a("div",Cn,[e(le,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[h[1]||(h[1]=M=>o.value=M),f],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},zn=nt(Ln,[["__scopeId","data-v-45790296"]]),Hn=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"})),Yn={class:"row q-col-gutter-sm"},Fn={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Kn={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Qn={__name:"ChartCard",setup(c){const n=de(),p={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,f)=>(k(),O("div",Yn,[a("div",Fn,[e(se,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:l(()=>[e(Z,{class:"q-pa-none"},{default:l(()=>[e(t(Vt),{option:p,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),a("div",Kn,[e(se,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:l(()=>[e(Z,{class:"q-pa-none"},{default:l(()=>[e(t(Vt),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},Wn=nt(Qn,[["__scopeId","data-v-5c77cb08"]]),Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"})),Gn={class:"row"},Xn={class:"row q-col-gutter-sm"},Zn={class:"col-sm-6 col-xs-12"},es={class:"col-sm-6 col-xs-12"},ts={class:"col-md-3 col-sm-6 col-xs-12"},ls={class:"col-md-3 col-sm-6 col-xs-12"},as={class:"col-md-3 col-sm-6 col-xs-12"},os={class:"col-md-3 col-sm-6 col-xs-12"};const ns={__name:"SummaryCard",setup(c){de();const n=(p,o)=>{const f={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(f)),H.visit(p,{data:f})};return(p,o)=>(k(),O("div",Gn,[e(se,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(Z,{class:"q-pa-none"},{default:l(()=>[a("div",Xn,[a("div",Zn,[e(J,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(re,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[g(u(p.$page.props.data.active_customer_count),1)]),_:1}),e(re,null,{default:l(()=>o[5]||(o[5]=[g("Santri Aktif")])),_:1})]),_:1})]),_:1})]),a("div",es,[e(J,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(re,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[g(u(p.$page.props.data.active_user_count),1)]),_:1}),e(re,null,{default:l(()=>o[6]||(o[6]=[g("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),a("div",ts,[e(J,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(re,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(re,null,{default:l(()=>o[7]||(o[7]=[g("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),a("div",ls,[e(J,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(re,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_customer_balance)),1)]),_:1}),e(re,null,{default:l(()=>o[8]||(o[8]=[g("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),a("div",as,[e(J,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(re,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_customer_debt)),1)]),_:1}),e(re,null,{default:l(()=>o[9]||(o[9]=[g("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),a("div",os,[e(J,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(re,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_customer_credit)),1)]),_:1}),e(re,null,{default:l(()=>o[10]||(o[10]=[g("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),B("",!0),B("",!0),B("",!0)])]),_:1})]),_:1})]))}},ss=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"})),rs={class:"text-subtitle1 text-bold text-grey-9"},is={class:"flex items-center justify-between"},us={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(c){const n=c;return(p,o)=>{const s=j("i-link");return k(),E(se,{class:"no-shadow",square:"",bordered:""},{default:l(()=>[e(Z,null,{default:l(()=>[a("div",rs,u(n.title),1),a("div",null,[(k(!0),O(F,null,ut(n.items,f=>(k(),O("div",{key:f.id},[a("div",is,[a("span",null,[e(s,{href:p.route(n.route_url,{id:f.id})},{default:l(()=>[g(u(f.name),1)]),_:2},1032,["href"])]),a("span",null,"Rp. "+u(t(z)(f.total)),1)])]))),128))])]),_:1})]),_:1})}}},ds=Object.freeze(Object.defineProperty({__proto__:null,default:us},Symbol.toStringTag,{value:"Module"})),ms={class:"q-gutter-sm"},cs={class:"q-gutter-sm"},ps={class:"col col-lg-6 q-pa-sm"},fs={class:"row"},gs={class:"detail"},bs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_s={class:"flex q-gutter-sm"},vs={class:""},gl="Rincian Akun",ys={__name:"Detail",setup(c){const n=de(),p=S("main"),o=S([]),s=S(!0),f=Ie({...Te()}),r=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];_e(()=>{m()});const m=(h=null)=>Pe({pagination:r,filter:f,props:h,rows:o,loading:s}),w=ge(),y=G(()=>w.screen.gt.sm?i:i.filter(h=>h.name==="id"));return(h,d)=>{const b=j("i-head"),M=j("authenticated-layout");return k(),O(F,null,[e(b,{title:gl}),e(M,null,{title:l(()=>[g(u(gl))]),"left-button":l(()=>[a("div",ms,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=v=>h.$inertia.get(h.route("admin.finance-account.index")))})])]),"right-button":l(()=>[a("div",cs,[e(R,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=v=>t(H).get(h.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",ps,[a("div",fs,[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Yt,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=v=>p.value=v),align:"left"},{default:l(()=>[e(dt,{name:"main",label:"Info Akun"}),e(dt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Ft,{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=v=>p.value=v)},{default:l(()=>[e(mt,{name:"main"},{default:l(()=>[a("table",gs,[a("tbody",null,[a("tr",null,[d[5]||(d[5]=a("td",{style:{width:"150px"}},"Nama",-1)),d[6]||(d[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(n).props.data.name),1)]),a("tr",null,[d[7]||(d[7]=a("td",null,"Jenis",-1)),d[8]||(d[8]=a("td",null,":",-1)),a("td",null,u(h.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(k(),O(F,{key:0},[a("tr",null,[d[9]||(d[9]=a("td",null,"Bank",-1)),d[10]||(d[10]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.bank),1)]),a("tr",null,[d[11]||(d[11]=a("td",null,"No. Rek",-1)),d[12]||(d[12]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.number),1)]),a("tr",null,[d[13]||(d[13]=a("td",null,"Atas Nama",-1)),d[14]||(d[14]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.holder),1)])],64)):B("",!0),a("tr",null,[d[15]||(d[15]=a("td",null,"Tampilkan di Wallet",-1)),d[16]||(d[16]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),a("tr",null,[d[17]||(d[17]=a("td",null,"Status",-1)),d[18]||(d[18]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),a("tr",null,[d[19]||(d[19]=a("td",null,"Saldo",-1)),d[20]||(d[20]=a("td",null,":",-1)),a("td",null,"Rp. "+u(t(z)(t(n).props.data.balance)),1)]),a("tr",null,[d[21]||(d[21]=a("td",null,"Catatan",-1)),d[22]||(d[22]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(mt,{name:"history"},{default:l(()=>[e(be,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=v=>r.value=v),filter:f.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:v,message:L,filter:I})=>[a("div",bs,[a("span",null,u(L)+" "+u(I?" with term "+I:""),1)])]),body:l(v=>[e(ke,{props:v},{default:l(()=>[e(D,{key:"id",props:v},{default:l(()=>[a("div",_s,[a("div",null,[a("b",null,"#"+u(v.row.id),1)]),a("div",null," - "+u(h.$dayjs(new Date(v.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),a("div",null," - "+u(v.row.created_by?v.row.created_by.username:"--"),1)]),t(w).screen.lt.md?(k(),O(F,{key:0},[a("div",vs,u(h.$CONSTANTS.STOCKMOVEMENT_REFTYPES[v.row.ref_type]),1),a("div",{class:fe(v.row.quantity<0?"text-red-10":v.row.quantity>0?"text-green-10":"")},[e(C,{name:v.row.quantity<0?"arrow_downward":v.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(v.row.quantity)),1)],2)],64)):B("",!0)]),_:2},1032,["props"]),e(D,{key:"type",props:v},{default:l(()=>[g(u(h.$CONSTANTS.STOCKMOVEMENT_REFTYPES[v.row.ref_type]),1)]),_:2},1032,["props"]),e(D,{key:"quantity",props:v},{default:l(()=>[a("div",{class:fe(v.row.quantity<0?"text-red-10":v.row.quantity>0?"text-green-10":"")},[e(C,{name:v.row.quantity<0?"arrow_downward":v.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(v.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},ws=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),ks={class:"q-gutter-sm"},hs={class:"col col-lg-6 q-pa-sm"},$s={style:{"margin-left":"-10px"}},Ss={style:{"margin-left":"-10px"}},xs={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Se({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=je(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),f=()=>xe({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const m=j("i-head"),w=j("authenticated-layout");return k(),O(F,null,[e(m,{title:p}),e(w,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",ks,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=y=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",hs,[e(Ce,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=y=>t(o).id=y)},null,512),[[Fe,t(o).id]]),e(Q,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=y=>t(o).type=y),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(k(),O(F,{key:0},[e(Q,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=y=>t(o).bank=y),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank},null,8,["modelValue","error","disable","error-message"]),e(Q,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=y=>t(o).number=y),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number},null,8,["modelValue","error","disable","error-message"]),e(Q,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=y=>t(o).holder=y),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder},null,8,["modelValue","error","disable","error-message"])],64)):B("",!0),e(Ae,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=y=>t(o).balance=y),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),a("div",$s,[e(vt,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=y=>t(o).has_wallet_access=y),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),a("div",Ss,[e(vt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=y=>t(o).active=y),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(Q,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=y=>t(o).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=y=>t(H).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},qs=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"})),Cs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vs={class:"q-pa-sm"},Ts={class:"q-my-sm text-subtitle"},Ps={class:"text-bold text-grey-8"},Ms={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Is={key:2},Ns={key:3},Os={key:4},Rs={class:"flex justify-end"},bl="Akun Kas",Us={__name:"Index",setup(c){const n=de(),p=ge(),o=S(!1),s=S([]),f=S(null),r=S(null),i=Be(r,104),m=S(!0),w=Ie({search:"",status:"active",type:"all",...Te()}),y=n.props.totalBalance,h=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),d=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],b=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],M=[{value:"all",label:"Semua"},...je(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];_e(()=>{L()});const v=x=>ze({message:`Hapus Akun ${x.name}?`,url:route("admin.finance-account.delete",x.id),fetchItemsCallback:L,loading:m}),L=(x=null)=>{Pe({pagination:h,filter:w,props:x,rows:s,url:route("admin.finance-account.data"),loading:m,tableRef:f})},I=()=>L(),$=x=>H.get(route("admin.finance-account.detail",{id:x.id})),T=G(()=>p.screen.gt.sm?d:d.filter(x=>x.name==="name"||x.name==="action"));return(x,q)=>{const P=j("i-head"),_=j("authenticated-layout");return k(),O(F,null,[e(P,{title:bl}),e(_,null,De({title:l(()=>[g(u(bl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:q[0]||(q[0]=V=>t(H).get(x.route("admin.finance-account.add")))}),e(R,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:q[1]||(q[1]=V=>o.value=!o.value)},null,8,["icon"])]),default:l(()=>[a("div",Vs,[a("div",Ts,[q[7]||(q[7]=g(" Total Saldo Akun Aktif: ")),a("span",Ps,"Rp. "+u(t(z)(t(y))),1)]),e(be,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":q[6]||(q[6]=V=>h.value=V),filter:w.search,loading:m.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:L,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:A,filter:W})=>[a("div",Ms,[a("span",null,u(A)+" "+u(W?" with term "+W:""),1)])]),body:l(V=>[e(ke,{props:V,class:fe([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:A=>$(V.row)},{default:l(()=>[e(D,{key:"name",props:V,class:"wrap-column"},{default:l(()=>[t(p).screen.lt.md?(k(),E(Qe,{key:1,icon:"wallet",text:V.row.name},null,8,["text"])):(k(),O(F,{key:0},[g(u(V.row.name),1)],64)),V.row.type=="bank"?(k(),O("div",Is,u(V.row.bank??"-")+" "+u(V.row.number??"-")+" an "+u(V.row.holder??"-"),1)):B("",!0),V.row.notes?(k(),O("div",Ns,[e(C,{name:"notes"}),g(" "+u(V.row.notes),1)])):B("",!0),t(p).screen.lt.md?(k(),O("div",Os,[e(C,{name:"money"}),g(" Rp. "+u(t(z)(V.row.balance)),1)])):B("",!0)]),_:2},1032,["props"]),e(D,{key:"balance",props:V},{default:l(()=>[g(u(t(z)(V.row.balance)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:V},{default:l(()=>[a("div",Rs,[e(R,{disabled:!t(Ye)(x.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:q[5]||(q[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(A=>t(H).get(x.route("admin.finance-account.duplicate",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>q[8]||(q[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X(A=>t(H).get(x.route("admin.finance-account.edit",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>q[9]||(q[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(A=>v(V.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>q[10]||(q[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Cs,[e(le,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:w.status,"onUpdate:modelValue":[q[2]||(q[2]=V=>w.status=V),I],options:b,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:w.type,"onUpdate:modelValue":[q[3]||(q[3]=V=>w.type=V),I],options:M,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":q[4]||(q[4]=V=>w.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},As=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),Ds={class:"q-gutter-sm"},Es={class:"col col-lg-6 q-pa-sm"},js={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(i=>({label:i.name,value:i.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],f=Se({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:xa(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>xe({form:f,url:route("admin.finance-transaction.save")});return(i,m)=>{const w=j("i-head"),y=j("authenticated-layout");return k(),O(F,null,[e(w,{title:p}),e(y,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",Ds,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=h=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",Es,[e(Ce,{class:"row",onSubmit:X(r,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":m[1]||(m[1]=h=>t(f).id=h)},null,512),[[Fe,t(f).id]]),e(kt,{modelValue:t(f).datetime,"onUpdate:modelValue":m[2]||(m[2]=h=>t(f).datetime=h),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing,errorMessage:t(f).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(le,{autofocus:"",modelValue:t(f).type,"onUpdate:modelValue":m[3]||(m[3]=h=>t(f).type=h),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(f).errors.type,disable:t(f).processing,errorMessage:t(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(le,{class:"custom-select",modelValue:t(f).account_id,"onUpdate:modelValue":m[4]||(m[4]=h=>t(f).account_id=h),label:t(f).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.account_id,error:!!t(f).errors.account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(f).type=="transfer"?(k(),E(le,{key:0,class:"custom-select",modelValue:t(f).to_account_id,"onUpdate:modelValue":m[5]||(m[5]=h=>t(f).to_account_id=h),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.to_account_id,error:!!t(f).errors.to_account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):B("",!0),e(Ae,{modelValue:t(f).amount,"onUpdate:modelValue":m[6]||(m[6]=h=>t(f).amount=h),label:"Jumlah",lazyRules:"",disable:t(f).processing,error:!!t(f).errors.amount,errorMessage:t(f).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Q,{modelValue:t(f).notes,"onUpdate:modelValue":m[7]||(m[7]=h=>t(f).notes=h),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[h=>h&&h.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(f).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(f).processing,onClick:m[8]||(m[8]=h=>t(H).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Bs=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"})),Ls={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},zs={class:"q-pa-sm"},Hs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ys={class:"text-grey-8"},Fs={key:0},Ks={key:0},Qs={key:1},Ws={class:"flex justify-end"},_l="Transaksi Kas",Js={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Tt(),w=Pt(),y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...pt(m-2,m-1).reverse()],h=[{value:"all",label:"Semua Bulan"},...ft()],d=Ie({search:"",category_id:"all",year:m,month:w,...Te()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),M=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{L()});const v=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.finance-transaction.delete",T.id),fetchItemsCallback:L,loading:s}),L=(T=null)=>{Pe({pagination:b,filter:d,props:T,rows:o,url:route("admin.finance-transaction.data"),loading:s,tableRef:f})},I=()=>{L()},$=G(()=>n.screen.gt.sm?M:M.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,x)=>{const q=j("i-head"),P=j("authenticated-layout");return k(),O(F,null,[e(q,{title:_l}),e(P,null,De({title:l(()=>[g(u(_l))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:x[0]||(x[0]=_=>t(H).get(T.route("admin.finance-transaction.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:x[1]||(x[1]=_=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",zs,[e(be,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":x[6]||(x[6]=_=>b.value=_),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:L,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:V,filter:A})=>[a("div",Hs,[a("span",null,u(V)+" "+u(A?" with term "+A:""),1)])]),body:l(_=>[e(ke,{props:_},{default:l(()=>[e(D,{key:"datetime",props:_,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #"+u(_.row.id)+" - ",1),e(C,{name:"calendar_today"}),g(" "+u(t(yt)(_.row.datetime))+" ",1),a("span",Ys,"("+u(t(wt)(_.row.datetime))+")",1)]),e(xt,null,{default:l(()=>[e(C,{name:"category"}),g(" "+u(_.row.type_label),1)]),_:2},1024),_.row.ref_type?(k(),O("div",Fs,[e(C,{name:"link"}),g(" "+u(_.row.ref_type_label)+" #"+u(_.row.ref_id),1)])):B("",!0),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:1},[_.row.notes?(k(),O("div",Ks,[e(C,{name:"notes"}),g(" "+u(_.row.notes),1)])):B("",!0),_.row.category?(k(),O("div",Qs,[e(C,{name:"category"}),g(" "+u(_.row.category.name),1)])):B("",!0),a("div",null,[e(C,{name:"money"}),g(" Rp. "+u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)])],64))]),_:2},1032,["props"]),e(D,{key:"account",props:_},{default:l(()=>{var V;return[g(u((V=_.row.account)==null?void 0:V.name),1)]}),_:2},1032,["props"]),e(D,{key:"notes",props:_},{default:l(()=>[g(u(_.row.notes),1)]),_:2},1032,["props"]),e(D,{key:"amount",props:_,style:{"text-align":"right"}},{default:l(()=>[g(u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:_},{default:l(()=>[a("div",Ws,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{onClick:X(V=>v(_.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[7]||(x[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Ls,[e(le,{modelValue:d.year,"onUpdate:modelValue":[x[2]||(x[2]=_=>d.year=_),I],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),d.year!="all"?(k(),E(le,{key:0,modelValue:d.month,"onUpdate:modelValue":[x[3]||(x[3]=_=>d.month=_),I],options:h,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"])):B("",!0),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":x[4]||(x[4]=_=>d.search=_),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"})),Xs={class:"q-gutter-sm"},Zs={class:"col col-lg-6 q-pa-sm"},er={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Se({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>xe({form:o,url:route("admin.operational-cost-category.save")});return(f,r)=>{const i=j("i-head"),m=j("authenticated-layout");return k(),O(F,null,[e(i,{title:p}),e(m,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",Xs,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=w=>f.$inertia.get(f.route("admin.operational-cost-category.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",Zs,[e(Ce,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=w=>t(o).id=w)},null,512),[[Fe,t(o).id]]),e(Q,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=w=>t(o).name=w),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[w=>w&&w.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=w=>t(o).description=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=w=>t(H).get(f.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},tr=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"})),lr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ar={class:"q-pa-sm"},or={class:"full-width row flex-center text-grey-8 q-gutter-sm"},nr={key:0,class:"text-grey-8"},sr={class:"flex justify-end"},vl="Kategori Biaya Operasional",rr={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Ie({search:"",...Te()}),w=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];_e(()=>{d()});const h=M=>ze({message:`Hapus Kategori Biaya ${M.name}?`,url:route("admin.operational-cost-category.delete",M.id),fetchItemsCallback:d,loading:s}),d=(M=null)=>{Pe({pagination:w,filter:m,props:M,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:f})},b=G(()=>n.screen.gt.sm?y:y.filter(M=>M.name==="name"||M.name==="action"));return(M,v)=>{const L=j("i-head"),I=j("authenticated-layout");return k(),O(F,null,[e(L,{title:vl}),e(I,null,De({title:l(()=>[g(u(vl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:v[0]||(v[0]=$=>t(H).get(M.route("admin.operational-cost-category.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:v[1]||(v[1]=$=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",ar,[e(be,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:w.value,"onUpdate:pagination":v[4]||(v[4]=$=>w.value=$),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:T,filter:x})=>[a("div",or,[a("span",null,u(T)+" "+u(x?" with term "+x:""),1)])]),body:l($=>[e(ke,{props:$},{default:l(()=>[e(D,{key:"name",props:$,class:"wrap-column"},{default:l(()=>[g(u($.row.name)+" ",1),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:0},[$.row.description?(k(),O("div",nr,[e(C,{name:"description"}),g(" "+u($.row.description),1)])):B("",!0)],64))]),_:2},1032,["props"]),e(D,{key:"description",props:$,class:"wrap-column"},{default:l(()=>[g(u($.row.description),1)]),_:2},1032,["props"]),e(D,{key:"action",props:$},{default:l(()=>[a("div",sr,[e(R,{disabled:!t(Ye)(M.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:v[3]||(v[3]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(T=>t(H).get(M.route("admin.operational-cost-category.duplicate",$.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>v[5]||(v[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X(T=>t(H).get(M.route("admin.operational-cost-category.edit",$.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>v[6]||(v[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(T=>h($.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>v[7]||(v[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",lr,[e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":v[2]||(v[2]=$=>m.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ir=Object.freeze(Object.defineProperty({__proto__:null,default:rr},Symbol.toStringTag,{value:"Module"})),ur={class:"q-gutter-sm"},dr={class:"q-gutter-sm"},mr={class:"col col-lg-6 q-pa-sm"},cr={class:"row"},pr={class:"detail"},fr={key:1,class:"text-grey-9"},gr={class:"detail"},yl="Rincian Teknisi",br={__name:"Detail",setup(c){const n=de();return(p,o)=>{const s=j("i-head"),f=j("i-link"),r=j("authenticated-layout");return k(),O(F,null,[e(s,{title:yl}),e(r,null,{title:l(()=>[g(u(yl))]),"left-button":l(()=>[a("div",ur,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>p.$inertia.get(p.route("admin.operational-cost.index")))})])]),"right-button":l(()=>[a("div",dr,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(H).get(p.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",mr,[a("div",cr,[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>[o[12]||(o[12]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),a("table",pr,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,[t(n).props.data.user?(k(),E(f,{key:0,href:p.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:l(()=>[g(u(t(n).props.data.user.username),1)]),_:1},8,["href"])):(k(),O("span",fr,"Tidak terhubung"))])]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"No. Telepon",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.phone),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Email",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.email),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.address),1)])])])]),_:1}),e(Z,null,{default:l(()=>o[13]||(o[13]=[a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),a("table",{class:"detail"},[a("tbody",null,[a("tr",null,[a("td",{style:{width:"125px"}},"Servis Ditangani"),a("td",{style:{width:"1px"}},":"),a("td",null,"0")]),a("tr",null,[a("td",null,"Servis Sukses"),a("td",null,":"),a("td",null,"0")]),a("tr",null,[a("td",null,"Servis Gagal"),a("td",null,":"),a("td",null,"0")])])],-1)])),_:1}),e(Z,null,{default:l(()=>[o[18]||(o[18]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),a("table",gr,[a("tbody",null,[a("tr",null,[o[14]||(o[14]=a("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(p.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[16]||(o[16]=a("td",null,"Diperbarui",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,u(p.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},_r=Object.freeze(Object.defineProperty({__proto__:null,default:br},Symbol.toStringTag,{value:"Module"})),vr={class:"row items-center justify-end"},yr={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(c,{emit:n}){const p=c,o=n,s=S("");Ve(()=>p.modelValue,i=>{const[m,w]=i.split(" ");s.value=m||""});const f=S(p.modelValue),r=()=>{let i="";s.value&&(i=`${s.value} 00:00`),o("update:modelValue",i),f.value=i};return(i,m)=>(k(),E(Q,{modelValue:f.value,"onUpdate:modelValue":m[1]||(m[1]=w=>f.value=w),label:p.label,readonly:p.readonly,disable:p.disable,error:p.error,rules:[...p.rules],"error-message":c.errorMessage,mask:p.mask},{append:l(()=>[e(C,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(qa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ca,{modelValue:s.value,"onUpdate:modelValue":[m[0]||(m[0]=w=>s.value=w),r],mask:"YYYY-MM-DD"},{default:l(()=>[a("div",vr,[Y(e(R,{label:"Close",color:"primary",flat:""},null,512),[[ne]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},wr=nt(yr,[["__scopeId","data-v-af4e8707"]]);function Ll(c,n=!1){const p=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredCostCategories:s,filterCostCategory:(r,i)=>{const m=r.toLowerCase();i(()=>{s.value=o.filter(w=>w.label.toLowerCase().includes(m))})},costCategoryOptions:o}}const kr={class:"q-gutter-sm"},hr={class:"col col-lg-6 q-pa-sm"},$r={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Ll(n.props.categories),s=S(o),f=S([...s.value]),r=Se({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),i=()=>xe({form:r,url:route("admin.operational-cost.save")}),m=(w,y)=>{y(()=>{f.value=s.value.filter(h=>h.label.toLowerCase().includes(w.toLowerCase()))})};return(w,y)=>{const h=j("i-head"),d=j("authenticated-layout");return k(),O(F,null,[e(h,{title:p}),e(d,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",kr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=b=>w.$inertia.get(w.route("admin.operational-cost.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",hr,[e(Ce,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=b=>t(r).id=b)},null,512),[[Fe,t(r).id]]),e(le,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":y[2]||(y[2]=b=>t(r).category_id=b),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:f.value,"map-options":"","emit-value":"",onFilter:m,error:!!t(r).errors.category_id,disable:t(r).processing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>y[8]||(y[8]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(wr,{modelValue:t(r).date,"onUpdate:modelValue":y[3]||(y[3]=b=>t(r).date=b),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(Q,{modelValue:t(r).description,"onUpdate:modelValue":y[4]||(y[4]=b=>t(r).description=b),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[b=>b&&b.length>0||"Deskripsi harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Ae,{modelValue:t(r).amount,"onUpdate:modelValue":y[5]||(y[5]=b=>t(r).amount=b),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(Q,{modelValue:t(r).notes,"onUpdate:modelValue":y[6]||(y[6]=b=>t(r).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:y[7]||(y[7]=b=>t(H).get(w.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Sr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"})),xr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qr={class:"q-pa-sm"},Cr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Vr={class:"flex items-center q-gutter-xs"},Tr={key:0},Pr={key:0},Mr={class:"flex justify-end"},wl="Biaya Operasional",Ir={__name:"Index",setup(c){const n=de(),p=ge(),o=S(!1),s=S(null),f=S(null),r=Be(f),i=S([]),m=S(!0),w=new Date().getFullYear(),y=new Date().getMonth()+1,h=[{label:"Semua Tahun",value:null},{label:`${w}`,value:w},...pt(w-2,w-1).reverse()],d=[{value:null,label:"Semua Bulan"},...ft()],{costCategoryOptions:b}=Ll(n.props.categories),M=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...b],v=Ie({search:"",category_id:"all",year:w,month:y,...Te()}),L=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),I=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];_e(()=>{T()});const $=P=>ze({message:`Hapus Biaya ${P.description}?`,url:route("admin.operational-cost.delete",P.id),fetchItemsCallback:T,loading:m}),T=(P=null)=>{Pe({pagination:L,filter:v,props:P,rows:i,url:route("admin.operational-cost.data"),loading:m,tableRef:s})},x=()=>{T()},q=G(()=>p.screen.gt.sm?I:I.filter(P=>P.name==="date"||P.name==="action"));return Ve(()=>v.year,P=>{P===null&&(v.month=null)}),(P,_)=>{const V=j("i-head"),A=j("authenticated-layout");return k(),O(F,null,[e(V,{title:wl}),e(A,null,De({title:l(()=>[g(u(wl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:_[0]||(_[0]=W=>t(H).get(P.route("admin.operational-cost.add")))}),e(R,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:_[1]||(_[1]=W=>o.value=!o.value)},null,8,["icon"])]),default:l(()=>[a("div",qr,[e(be,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:L.value,"onUpdate:pagination":_[7]||(_[7]=W=>L.value=W),filter:v.search,loading:m.value,columns:q.value,rows:i.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:T,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:W,message:$e,filter:U})=>[a("div",Cr,[a("span",null,u($e)+" "+u(U?" with term "+U:""),1)])]),body:l(W=>[e(ke,{props:W},{default:l(()=>[e(D,{key:"date",props:W,class:"wrap-column"},{default:l(()=>[a("div",Vr,[e(C,{name:"calendar_today"}),a("div",null,u(t(Ge)(W.row.date).format("DD/MM/YYYY")),1)]),t(p).screen.gt.sm?B("",!0):(k(),O(F,{key:0},[e(Qe,{icon:"notes",text:W.row.notes},null,8,["text"]),W.row.category?(k(),O("div",Tr,[e(C,{name:"category"}),g(" "+u(W.row.category.name),1)])):B("",!0),a("div",null,[e(C,{name:"paid"}),g(" Rp. "+u(t(z)(W.row.amount)),1)])],64))]),_:2},1032,["props"]),e(D,{key:"description",props:W},{default:l(()=>[g(u(W.row.description)+" ",1),W.row.category?(k(),O("div",Pr,[e(C,{name:"category"}),g(" "+u(W.row.category.name),1)])):B("",!0)]),_:2},1032,["props"]),e(D,{key:"amount",props:W,style:{"text-align":"right"}},{default:l(()=>[g(u(t(z)(W.row.amount)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:W},{default:l(()=>[a("div",Mr,[e(R,{disabled:!t(Ye)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[6]||(_[6]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X($e=>t(H).get(P.route("admin.operational-cost.duplicate",W.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>_[8]||(_[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X($e=>t(H).get(P.route("admin.operational-cost.edit",W.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>_[9]||(_[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X($e=>$(W.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>_[10]||(_[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:l(()=>[a("div",xr,[e(le,{modelValue:v.year,"onUpdate:modelValue":[_[2]||(_[2]=W=>v.year=W),x],options:h,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(le,{modelValue:v.month,"onUpdate:modelValue":[_[3]||(_[3]=W=>v.month=W),x],options:d,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:v.year===null},null,8,["modelValue","disable"]),e(le,{modelValue:v.category_id,"onUpdate:modelValue":[_[4]||(_[4]=W=>v.category_id=W),x],options:M,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":_[5]||(_[5]=W=>v.search=W),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"})),Or={class:"q-gutter-sm"},Rr={class:"col col-lg-6 q-pa-sm"},Ur={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=Se({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>xe({form:o,url:route("admin.product-category.save")});return(f,r)=>{const i=j("i-head"),m=j("authenticated-layout");return k(),O(F,null,[e(i,{title:p}),e(m,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",Or,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=w=>f.$inertia.get(f.route("admin.product-category.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",Rr,[e(Ce,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=w=>t(o).id=w)},null,512),[[Fe,t(o).id]]),e(Q,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=w=>t(o).name=w),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[w=>w&&w.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=w=>t(o).description=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=w=>t(H).get(f.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"})),Dr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Er={class:"q-pa-sm"},jr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Br={key:0,class:"text-grey-8"},Lr={class:"flex justify-end"},kl="Kategori Produk",zr={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Ie({search:"",...Te()}),w=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];_e(()=>{d()});const h=M=>ze({message:`Hapus Kategori ${M.name}?`,url:route("admin.product-category.delete",M.id),fetchItemsCallback:d,loading:s}),d=(M=null)=>{Pe({pagination:w,filter:m,props:M,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:f})},b=G(()=>n.screen.gt.sm?y:y.filter(M=>M.name==="name"||M.name==="action"));return(M,v)=>{const L=j("i-head"),I=j("authenticated-layout");return k(),O(F,null,[e(L,{title:kl}),e(I,null,De({title:l(()=>[g(u(kl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:v[0]||(v[0]=$=>t(H).get(M.route("admin.product-category.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:v[1]||(v[1]=$=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",Er,[e(be,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:w.value,"onUpdate:pagination":v[4]||(v[4]=$=>w.value=$),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:d,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:T,filter:x})=>[a("div",jr,[a("span",null,u(T)+" "+u(x?" with term "+x:""),1)])]),body:l($=>[e(ke,{props:$},{default:l(()=>[e(D,{key:"name",props:$,class:"wrap-column"},{default:l(()=>[g(u($.row.name)+" ",1),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:0},[$.row.description?(k(),O("div",Br,[e(C,{name:"description"}),g(" "+u($.row.description),1)])):B("",!0)],64))]),_:2},1032,["props"]),e(D,{key:"description",props:$,class:"wrap-column"},{default:l(()=>[g(u($.row.description),1)]),_:2},1032,["props"]),e(D,{key:"action",props:$},{default:l(()=>[a("div",Lr,[e(R,{disabled:!t(Ye)(M.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:v[3]||(v[3]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(T=>t(H).get(M.route("admin.product-category.duplicate",$.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>v[5]||(v[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X(T=>t(H).get(M.route("admin.product-category.edit",$.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>v[6]||(v[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(T=>h($.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>v[7]||(v[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Dr,[e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":v[2]||(v[2]=$=>m.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Hr=Object.freeze(Object.defineProperty({__proto__:null,default:zr},Symbol.toStringTag,{value:"Module"})),Yr={class:"q-gutter-sm"},Fr={class:"q-gutter-sm"},Kr={class:"row justify-center"},Qr={class:"col col-lg-6 q-pa-sm"},Wr={class:"row"},Jr={class:"detail"},Gr={key:0},Xr={key:1},Zr={class:"detail"},ei={class:"detail"},ti={key:0},li={key:1},ai={class:"detail"},oi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ni={class:"flex q-gutter-sm"},si={class:""},ri={__name:"Detail",setup(c){const n=de(),p=`Rincian Produk #${n.props.data.id}`,o=S("main"),s=S([]),f=S(!0),r=Ie({...Te()}),i=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),m=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];_e(()=>{w()});const w=(d=null)=>Pe({pagination:i,filter:r,props:d,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:f}),y=ge(),h=G(()=>y.screen.gt.sm?m:m.filter(d=>d.name==="id"));return(d,b)=>{const M=j("i-head"),v=j("i-link"),L=j("authenticated-layout");return k(),O(F,null,[e(M,{title:p}),e(L,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",Yr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=I=>d.$inertia.get(d.route("admin.product.index")))})])]),"right-button":l(()=>[a("div",Fr,[e(R,{icon:"edit",dense:"",color:"primary",onClick:b[1]||(b[1]=I=>t(H).get(d.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[a("div",Kr,[a("div",Qr,[a("div",Wr,[e(se,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(Yt,{modelValue:o.value,"onUpdate:modelValue":b[2]||(b[2]=I=>o.value=I),align:"left"},{default:l(()=>[e(dt,{name:"main",label:"Info Utama"}),e(dt,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Ft,{modelValue:o.value,"onUpdate:modelValue":b[4]||(b[4]=I=>o.value=I)},{default:l(()=>[e(mt,{name:"main"},{default:l(()=>[b[41]||(b[41]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),a("table",Jr,[a("tbody",null,[a("tr",null,[b[5]||(b[5]=a("td",{style:{width:"120px"}},"ID",-1)),b[6]||(b[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+u(t(n).props.data.id),1)]),a("tr",null,[b[7]||(b[7]=a("td",null,"Nama Produk",-1)),b[8]||(b[8]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.name),1)]),a("tr",null,[b[9]||(b[9]=a("td",null,"Jenis Produk",-1)),b[10]||(b[10]=a("td",null,":",-1)),a("td",null,u(d.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),a("tr",null,[b[11]||(b[11]=a("td",null,"Kategori",-1)),b[12]||(b[12]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),a("tr",null,[b[13]||(b[13]=a("td",null,"Supplier",-1)),b[14]||(b[14]=a("td",null,":",-1)),a("td",null,[t(n).props.data.supplier?(k(),E(v,{key:0,href:d.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:l(()=>[g(u("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(k(),O(F,{key:1},[g(u("--Tidak memiliki supplier--"))],64))])]),a("tr",null,[b[15]||(b[15]=a("td",null,"Status",-1)),b[16]||(b[16]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(k(),O("tr",Gr,[b[18]||(b[18]=a("td",null,"Dibuat Oleh",-1)),b[19]||(b[19]=a("td",null,":",-1)),a("td",null,[t(n).props.data.created_by?(k(),O(F,{key:0},[e(v,{href:d.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:l(()=>[g(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),b[17]||(b[17]=g(" - "))],64)):B("",!0),g(" "+u(d.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):B("",!0),t(n).props.data.updated_at?(k(),O("tr",Xr,[b[21]||(b[21]=a("td",null,"Diperbarui oleh",-1)),b[22]||(b[22]=a("td",null,":",-1)),a("td",null,[t(n).props.data.updated_by?(k(),O(F,{key:0},[e(v,{href:d.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:l(()=>[g(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),b[20]||(b[20]=g(" - "))],64)):B("",!0),g(" "+u(d.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):B("",!0)])]),b[42]||(b[42]=a("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),a("table",Zr,[a("tbody",null,[a("tr",null,[b[23]||(b[23]=a("td",{style:{width:"120px"}},"Stok",-1)),b[24]||(b[24]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(z)(t(n).props.data.stock))+" "+u(t(n).props.data.uom),1)]),a("tr",null,[b[25]||(b[25]=a("td",null,"Stok Minimum",-1)),b[26]||(b[26]=a("td",null,":",-1)),a("td",null,u(t(z)(t(n).props.data.min_stock))+" "+u(t(n).props.data.uom),1)]),a("tr",null,[b[27]||(b[27]=a("td",null,"Stok Maksimum",-1)),b[28]||(b[28]=a("td",null,":",-1)),a("td",null,u(t(z)(t(n).props.data.max_stock))+" "+u(t(n).props.data.uom),1)]),a("tr",null,[b[29]||(b[29]=a("td",null,"Barcode",-1)),b[30]||(b[30]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.barcode),1)])])]),b[43]||(b[43]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),a("table",ei,[a("tbody",null,[d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(k(),O("tr",ti,[b[31]||(b[31]=a("td",{style:{width:"120px"}},"Harga Beli",-1)),b[32]||(b[32]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"Rp. "+u(t(z)(t(n).props.data.cost)),1)])):B("",!0),a("tr",null,[b[33]||(b[33]=a("td",null,"Harga Jual",-1)),b[34]||(b[34]=a("td",null,":",-1)),a("td",null,"Rp. "+u(t(z)(t(n).props.data.price)),1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(k(),O("tr",li,[b[35]||(b[35]=a("td",null,"Margin",-1)),b[36]||(b[36]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.price>0?t(z)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,"id-ID",2):0)+" % ",1)])):B("",!0)])]),b[44]||(b[44]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),a("table",ai,[a("tbody",null,[a("tr",null,[b[37]||(b[37]=a("td",{style:{width:"120px"}},"Deskirpsi",-1)),b[38]||(b[38]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(n).props.data.description),1)]),a("tr",null,[b[39]||(b[39]=a("td",null,"Catatan",-1)),b[40]||(b[40]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(mt,{name:"history"},{default:l(()=>[e(be,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":b[3]||(b[3]=I=>i.value=I),filter:r.search,loading:f.value,columns:h.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:w,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:I,message:$,filter:T})=>[a("div",oi,[a("span",null,u($)+" "+u(T?" with term "+T:""),1)])]),body:l(I=>[e(ke,{props:I},{default:l(()=>[e(D,{key:"id",props:I},{default:l(()=>[a("div",ni,[a("div",null,[a("b",null,"#"+u(I.row.id),1)]),a("div",null," - "+u(d.$dayjs(new Date(I.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),a("div",null," - "+u(I.row.created_by?I.row.created_by.username:"--"),1)]),t(y).screen.lt.md?(k(),O(F,{key:0},[a("div",si,u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[I.row.ref_type]),1),a("div",{class:fe(I.row.quantity<0?"text-red-10":I.row.quantity>0?"text-green-10":"")},[e(C,{name:I.row.quantity<0?"arrow_downward":I.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(I.row.quantity)),1)],2)],64)):B("",!0)]),_:2},1032,["props"]),e(D,{key:"type",props:I},{default:l(()=>[g(u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[I.row.ref_type]),1)]),_:2},1032,["props"]),e(D,{key:"quantity",props:I},{default:l(()=>[a("div",{class:fe(I.row.quantity<0?"text-red-10":I.row.quantity>0?"text-green-10":"")},[e(C,{name:I.row.quantity<0?"arrow_downward":I.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(I.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},ii=Object.freeze(Object.defineProperty({__proto__:null,default:ri},Symbol.toStringTag,{value:"Module"}));function zl(c,n=!1){const p=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredCategories:s,filterCategories:(r,i)=>{const m=r.toLowerCase();i(()=>{s.value=o.filter(w=>w.label.toLowerCase().includes(m))})},categories:o}}function Kt(c,n=!1){const p=c.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredSuppliers:s,filterSupplierFn:(r,i)=>{i(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const ui={class:"q-gutter-sm"},di={class:"col col-lg-6 q-pa-sm"},mi={style:{"margin-left":"-10px"}},ci={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Produk",o=je(window.CONSTANTS.PRODUCT_TYPES),s=Se({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,notes:n.props.data.notes}),f=()=>xe({form:s,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=zl(n.props.categories),{filteredSuppliers:m,filterSuppliers:w}=Kt(n.props.suppliers),y=G(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(h,d)=>{const b=j("i-head"),M=j("authenticated-layout");return k(),O(F,null,[e(b,{title:p}),e(M,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",ui,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=v=>h.$inertia.get(h.route("admin.product.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",di,[e(Ce,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=v=>t(s).id=v)},null,512),[[Fe,t(s).id]]),d[20]||(d[20]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(le,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":d[2]||(d[2]=v=>t(s).type=v),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":""},null,8,["modelValue","options"]),e(Q,{modelValue:t(s).name,"onUpdate:modelValue":d[3]||(d[3]=v=>t(s).name=v),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(s).description,"onUpdate:modelValue":d[4]||(d[4]=v=>t(s).description=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description},null,8,["modelValue","disable","error","error-message"]),e(le,{modelValue:t(s).category_id,"onUpdate:modelValue":d[5]||(d[5]=v=>t(s).category_id=v),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>d[18]||(d[18]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(le,{modelValue:t(s).supplier_id,"onUpdate:modelValue":d[6]||(d[6]=v=>t(s).supplier_id=v),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(m),"map-options":"","emit-value":"",onFilter:t(w),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>d[19]||(d[19]=[g("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),a("div",mi,[e(vt,{class:"full-width q-pl-none",modelValue:t(s).active,"onUpdate:modelValue":d[7]||(d[7]=v=>t(s).active=v),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),d[21]||(d[21]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(Q,{modelValue:t(s).barcode,"onUpdate:modelValue":d[8]||(d[8]=v=>t(s).barcode=v),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode},null,8,["modelValue","error","disable","error-message"]),e(Q,{modelValue:t(s).uom,"onUpdate:modelValue":d[9]||(d[9]=v=>t(s).uom=v),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom},null,8,["modelValue","error","disable","error-message"]),e(Ae,{modelValue:t(s).stock,"onUpdate:modelValue":d[10]||(d[10]=v=>t(s).stock=v),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:t(s).min_stock,"onUpdate:modelValue":d[11]||(d[11]=v=>t(s).min_stock=v),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:t(s).max_stock,"onUpdate:modelValue":d[12]||(d[12]=v=>t(s).max_stock=v),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock},null,8,["modelValue","disable","error","errorMessage"]),d[22]||(d[22]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Ae,{modelValue:t(s).cost,"onUpdate:modelValue":d[13]||(d[13]=v=>t(s).cost=v),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:t(s).price,"onUpdate:modelValue":d[14]||(d[14]=v=>t(s).price=v),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:y.value,"onUpdate:modelValue":d[15]||(d[15]=v=>y.value=v),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2},null,8,["modelValue","disable"]),d[23]||(d[23]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(Q,{modelValue:t(s).notes,"onUpdate:modelValue":d[16]||(d[16]=v=>t(s).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:d[17]||(d[17]=v=>t(H).get(h.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},pi=Object.freeze(Object.defineProperty({__proto__:null,default:ci},Symbol.toStringTag,{value:"Module"})),fi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gi={class:"q-pa-sm"},bi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_i={key:0,class:"text-grey-8"},vi={key:1,class:"text-grey-8"},yi={key:0},wi={key:1},ki={class:"flex justify-end"},hl="Produk",hi={__name:"Index",setup(c){const n=de(),p=S(null),o=S(null),s=Be(o),f=S(!1),r=[{value:"all",label:"Semua"},...je(window.CONSTANTS.PRODUCT_TYPES)],i=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],w=ge(),y=S(!1),h=S([]),d=S(!0),b=Ie({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Te()}),M=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let v=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];_e(()=>{I()});const L=V=>ze({message:`Hapus Produk ${V.name}?`,url:route("admin.product.delete",V.id),fetchItemsCallback:I,loading:d}),I=(V=null)=>{Pe({pagination:M,filter:b,props:V,rows:h,url:route("admin.product.data"),loading:d,tableRef:p})},$=()=>{I()},{filteredCategories:T,filterCategories:x}=zl(n.props.categories,!0),{filteredSuppliers:q,filterSuppliers:P}=Kt(n.props.suppliers,!0),_=G(()=>{let V=[...v];return f.value||V.splice(2,1),w.screen.gt.sm?V:V.filter(A=>A.name==="name"||A.name==="action")});return(V,A)=>{const W=j("i-head"),$e=j("authenticated-layout");return k(),O(F,null,[e(W,{title:hl}),e($e,null,De({title:l(()=>[g(u(hl))]),"right-button":l(()=>[V.$can("admin.product.add")?(k(),E(R,{key:0,class:"q-mr-sm",icon:f.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:A[0]||(A[0]=U=>f.value=!f.value)},null,8,["icon"])):B("",!0),e(R,{icon:"add",dense:"",color:"primary",onClick:A[1]||(A[1]=U=>t(H).get(V.route("admin.product.add")))}),e(R,{class:"q-ml-sm",icon:y.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:A[2]||(A[2]=U=>y.value=!y.value)},null,8,["icon"])]),default:l(()=>[a("div",gi,[e(be,{ref_key:"tableRef",ref:p,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:M.value,"onUpdate:pagination":A[10]||(A[10]=U=>M.value=U),filter:b.search,loading:d.value,columns:_.value,rows:h.value,"rows-per-page-options":[10,25,50],style:He({height:t(s)}),onRequest:I,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:ve,filter:ae})=>[a("div",bi,[a("span",null,u(ve)+" "+u(ae?" with term "+ae:""),1)])]),body:l(U=>[e(ke,{props:U,class:fe([{inactive:!U.row.active},"cursor-pointer"]),onClick:ve=>t(H).get(V.route("admin.product.detail",U.row.id))},{default:l(()=>[e(D,{key:"name",props:U,class:"wrap-column"},{default:l(()=>[g(u(U.row.name)+" ",1),U.row.category_id?(k(),O("div",_i,[e(C,{name:"category"}),g(" "+u(U.row.category.name),1)])):B("",!0),U.row.supplier_id?(k(),O("div",vi,[e(C,{name:"local_shipping"}),g(" "+u(U.row.supplier.name),1)])):B("",!0),t(w).screen.gt.sm?B("",!0):(k(),O(F,{key:2},[U.row.type=="stocked"?(k(),O("div",yi,[e(C,{name:"cycle"}),g(" Stok: "+u(t(z)(U.row.stock))+" "+u(U.row.uom),1)])):B("",!0),f.value?(k(),O("div",wi,[e(C,{name:"money"}),g(" Modal: Rp. "+u(t(z)(U.row.cost)),1)])):B("",!0),a("div",null,[e(C,{name:"sell"}),g(" Harga: Rp. "+u(t(z)(U.row.price)),1)])],64))]),_:2},1032,["props"]),e(D,{key:"stock",props:U,class:fe(["wrap-column",{"low-stock":U.row.type=="stocked"&&(Number(U.row.stock)==0||Number(U.row.stock)<Number(U.row.min_stock)),"over-stock":U.row.type=="stocked"&&Number(U.row.max_stock)&&Number(U.row.stock)>Number(U.row.max_stock)}])},{default:l(()=>[g(u(U.row.type=="stocked"?t(z)(U.row.stock)+" "+U.row.uom:"-"),1)]),_:2},1032,["props","class"]),(k(),E(D,{key:"cost",props:U,class:"wrap-column"},{default:l(()=>[g(u(t(z)(U.row.cost)),1)]),_:2},1032,["props"])),e(D,{key:"price",props:U,class:"wrap-column"},{default:l(()=>[g(u(t(z)(U.row.price)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:U},{default:l(()=>[a("div",ki,[e(R,{disabled:!t(Ye)(V.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:A[9]||(A[9]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(ve=>t(H).get(V.route("admin.product.duplicate",U.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>A[11]||(A[11]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X(ve=>t(H).get(V.route("admin.product.edit",U.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>A[12]||(A[12]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),V.$page.props.auth.user.role==V.$CONSTANTS.USER_ROLE_ADMIN?Y((k(),E(J,{key:0,onClick:X(ve=>L(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>A[13]||(A[13]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]):B("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[y.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[a("div",fi,[e(le,{modelValue:b.type,"onUpdate:modelValue":[A[3]||(A[3]=U=>b.type=U),$],class:"custom-select col-xs-4 col-sm-2",options:r,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{modelValue:b.status,"onUpdate:modelValue":[A[4]||(A[4]=U=>b.status=U),$],class:"custom-select col-xs-4 col-sm-2",options:i,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{modelValue:b.stock_status,"onUpdate:modelValue":[A[5]||(A[5]=U=>b.stock_status=U),$],class:"custom-select col-xs-4 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{modelValue:b.category_id,"onUpdate:modelValue":[A[6]||(A[6]=U=>b.category_id=U),$],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(T),"map-options":"",dense:"","emit-value":"",onFilter:t(x),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(le,{modelValue:b.supplier_id,"onUpdate:modelValue":[A[7]||(A[7]=U=>b.supplier_id=U),$],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(q),"map-options":"",dense:"","emit-value":"",onFilter:t(P),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":A[8]||(A[8]=U=>b.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},$i=Object.freeze(Object.defineProperty({__proto__:null,default:hi},Symbol.toStringTag,{value:"Module"})),Hl={__name:"UpdatePasswordForm",setup(c){const n=S(!1),p=S(null),o=S(null),s=Se({current_password:"",password:"",password_confirmation:""}),f=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),p.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(r,i)=>(k(),E(Ce,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>[i[6]||(i[6]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=a("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(Q,{modelValue:t(s).current_password,"onUpdate:modelValue":i[1]||(i[1]=m=>t(s).current_password=m),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=m=>n.value=!n.value)},{default:l(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(Q,{modelValue:t(s).password,"onUpdate:modelValue":i[3]||(i[3]=m=>t(s).password=m),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=m=>n.value=!n.value)},{default:l(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(Q,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=m=>t(s).password_confirmation=m),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=m=>n.value=!n.value)},{default:l(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(Z,null,{default:l(()=>[e(R,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Si=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Yl={__name:"UpdateProfileInformationForm",setup(c){const p=de().props.auth.user,o=Se({name:p.name,username:p.username,role:window.CONSTANTS.USER_ROLES[p.role]}),s=()=>xe({form:o,url:route("admin.profile.update")});return(f,r)=>(k(),E(Ce,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>[r[3]||(r[3]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(Q,{modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(Q,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Q,{modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(Z,null,{default:l(()=>[e(R,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},xi=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),qi={class:"q-pa-sm"},Ci={class:"row justify-center"},Vi={class:"col col-lg-6"},$l="Profil Saya",Ti={__name:"Edit",setup(c){return(n,p)=>{const o=j("i-head"),s=j("authenticated-layout");return k(),O(F,null,[e(o,{title:$l}),e(s,null,{title:l(()=>[g(u($l))]),default:l(()=>[a("div",qi,[a("div",Ci,[a("div",Vi,[e(Yl,{class:"q-mb-md"}),e(Hl)])])])]),_:1})],64)}}},Pi=Object.freeze(Object.defineProperty({__proto__:null,default:Ti},Symbol.toStringTag,{value:"Module"}));function Mi(){const c=S(new Date);let n=null;const p=()=>{c.value=new Date};_e(()=>{n=setInterval(p,1e3)}),Ja(()=>{n&&clearInterval(n)});const o=G(()=>c.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),s=G(()=>c.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:s}}const Ii={class:"text-grey-8"},Fl={__name:"DigitalClock",setup(c){const{currentDate:n,currentTime:p}=Mi();return(o,s)=>(k(),O("div",Ii,u(t(n))+" - "+u(t(p)),1))}},Ni={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Oi={class:"col-12 col-sm-6 col-md-4"},Ri={class:"text-bold"},Ui={key:0,class:"col-12 col-md-4 text-center"},Ai={class:"text-h6 text-weight-bold text-grey-8"},Di={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Ei={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},ji={class:"text-weight-bold"},Kl={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(c){return(n,p)=>(k(),O("div",Ni,[a("div",Oi,[a("div",Ri,[p[1]||(p[1]=g(" Info Supplier ")),e(R,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:p[0]||(p[0]=o=>n.$emit("edit-supplier"))})]),p[2]||(p[2]=a("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(k(),O("div",Ui,[a("div",Ai,u(c.company.name),1),c.company.address?(k(),O("div",Di,u(c.company.address),1)):B("",!0),c.company.phone?(k(),O("div",Ei,u(c.company.phone),1)):B("",!0)])):B("",!0),a("div",{class:fe(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[a("div",ji,u(c.user.username)+" - "+u(c.user.name),1),e(Fl)],2)]))}},Bi=Object.freeze(Object.defineProperty({__proto__:null,default:Kl},Symbol.toStringTag,{value:"Module"})),Li={class:"text-weight-medium"},zi={class:"text-caption text-grey-6"},Hi={class:"text-weight-medium"},Yi={class:"text-weight-bold text-primary"},Ql={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,p)=>(k(),E(be,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:l(o=>[e(ke,{props:o,class:"bg-grey-4"},{default:l(()=>[(k(!0),O(F,null,ut(o.cols,s=>(k(),E(Dl,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:l(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(o=>[e(ke,{props:o,class:"hover-highlight"},{default:l(()=>[e(D,{key:"name",props:o,class:"text-left"},{default:l(()=>[a("div",Li,u(o.row.name),1),a("div",zi," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(D,{key:"price",props:o,class:"text-center"},{default:l(()=>[a("div",Hi,[e(Ae,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(D,{key:"quantity",props:o,class:"text-center"},{default:l(()=>[e(Ae,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:p[0]||(p[0]=Lt(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(D,{key:"subtotal",props:o,class:"text-center"},{default:l(()=>[a("div",Yi," Rp. "+u(t(z)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:o,class:"text-center"},{default:l(()=>[e(R,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:l(()=>[e(Va,null,{default:l(()=>p[1]||(p[1]=[g("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Fi=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"})),Ki={class:"column"},Qi={class:"row justify-end items-center q-gutter-sm"},Wi={class:"text-h4 text-weight-bold text-primary"},Ji={class:"text-caption text-grey-6 q-mt-xs text-right"},Gi={class:"q-py-sm"},Xi={class:"q-py-sm"},Wl={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const p=S(null);_e(()=>{o()});const o=()=>{It(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,f)=>(k(),O("div",Ki,[a("div",Qi,[f[3]||(f[3]=a("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),a("span",Wi,u(t(z)(c.subtotal)),1)]),a("div",Ji,u(c.itemCount)+" item(s) ",1),a("div",Gi,[e(Q,{ref_key:"barcodeInputRef",ref:p,"model-value":c.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:f[1]||(f[1]=Lt(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:l(()=>[e(C,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),a("div",Xi,[e(R,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},Zi=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),eu={class:"q-ml-sm"},Jl={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(c){return(n,p)=>(k(),E($t,{"model-value":c.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:l(()=>[e(se,null,{default:l(()=>[e(Z,{class:"row items-center"},{default:l(()=>{var o;return[e(ot,{icon:"delete",color:"negative","text-color":"white"}),a("span",eu,'Hapus item "'+u((o=c.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(ct,{align:"right"},{default:l(()=>[Y(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[ne]]),Y(e(R,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[ne]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},tu=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),Gl={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const p=n,o=S(""),s=S(""),f=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(k(),E($t,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=m=>r.$emit("update:modelValue",m)),persistent:""},{default:l(()=>[e(se,{style:{width:"400px"}},{default:l(()=>[e(Z,{class:"q-py-none q-pt-lg"},{default:l(()=>i[3]||(i[3]=[a("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(Z,null,{default:l(()=>[e(Q,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),label:"Nama Supplier"},null,8,["modelValue"]),e(Q,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=m=>s.value=m),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(ct,{align:"right"},{default:l(()=>[Y(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[ne]]),Y(e(R,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[ne]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},lu=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),au={class:"q-gutter-sm"},ou={class:"row col **grow**"},nu={class:"col-12 q-pa-sm column"},su={class:"row"},ru={class:"col-xs-12 col-md-8 q-pa-sm"},iu={class:"col-md-4 col-xs-12 q-pa-sm"},uu={__name:"Editor",setup(c){const n=ge(),p=de(),o=S(null),s=Se({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=S(""),r=S(!1),i=S(!1),m=S(null),w=S(!1),y=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],h=G(()=>{const I=s.items.reduce(($,T)=>$+T.price*T.quantity,0);return s.subtotal=I,s.total=I+s.tax,I}),d=async()=>{if(!f.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let I=1,$=f.value.trim(),T=null;const x=$.split("*");if(x.length===3){const P=parseInt(x[0]),_=parseFloat(x[2]);!isNaN(P)&&P>0?I=P:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(_)&&_>=0?T=_:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),$=x[1]}else if(x.length===2){const P=parseInt(x[0]);!isNaN(P)&&P>0?I=P:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),$=x[1]}const q=s.items.findIndex(P=>P.barcode===$);if(q!==-1)s.items[q].quantity+=I,n.notify({message:`Quantity ${s.items[q].name} bertambah ${I}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(V=>setTimeout(V,300));const _={...{id:Date.now(),name:`Item ${$}`,barcode:$,price:T!==null?T:Math.floor(Math.random()*5e4)+1e4},quantity:I};s.items.push(_),n.notify({message:`${_.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(P){console.error("Error fetching item:",P),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}f.value="",await It(),o.value.focusOnBarcodeInput()},b=I=>{m.value=I,i.value=!0},M=()=>{if(m.value){const I=s.items.findIndex($=>$.id===m.value.id);if(I!==-1){const $=s.items.splice(I,1)[0];n.notify({message:`${$.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}m.value=null}},v=(I,$)=>{const T=s.items.find(x=>x.id===I);T&&$>0&&(T.quantity=parseInt($)||1)},L=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=Ge().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",xe({form:s,url:route("admin.transaction.save")})};return(I,$)=>{const T=j("i-head"),x=j("authenticated-layout");return k(),O(F,null,[e(T,{title:"Order Pembelian"}),e(x,null,{title:l(()=>$[8]||($[8]=[g("Order Pembelian")])),"left-button":l(()=>[a("div",au,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:$[0]||($[0]=q=>t(H).get(I.route("admin.purchase-order.index")))})])]),default:l(()=>[e(he,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(Kl,{user:t(p).props.auth.user,company:t(p).props.company,onEditSupplier:$[1]||($[1]=q=>w.value=!0)},null,8,["user","company"]),a("div",ou,[a("div",nu,[e(Ql,{items:t(s).items,columns:y,onUpdateQuantity:$[2]||($[2]=({id:q,value:P})=>v(q,P)),onRemoveItem:b},null,8,["items"])])]),a("div",su,[a("div",ru,[e(Q,{modelValue:t(s).notes,"onUpdate:modelValue":$[3]||($[3]=q=>t(s).notes=q),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"}},{prepend:l(()=>[e(C,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),a("div",iu,[e(Wl,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":$[4]||($[4]=q=>f.value=q),subtotal:h.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:$[5]||($[5]=q=>d(f.value)),onProcessPayment:L},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(Jl,{modelValue:i.value,"onUpdate:modelValue":$[6]||($[6]=q=>i.value=q),item:m.value,onConfirm:M},null,8,["modelValue","item"]),e(Gl,{modelValue:w.value,"onUpdate:modelValue":$[7]||($[7]=q=>w.value=q)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},du=nt(uu,[["__scopeId","data-v-6998f6b3"]]),mu=Object.freeze(Object.defineProperty({__proto__:null,default:du},Symbol.toStringTag,{value:"Module"})),cu={class:"col col-lg-6 q-pa-sm"},pu={__name:"Editor_v1",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=Kt(n.props.suppliers,!1),f=je(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=je(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=je(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),m=Se({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:Ge(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),w=()=>xe({form:m,url:route("admin.purchase-order.save")});return(y,h)=>{const d=j("i-head"),b=j("authenticated-layout");return k(),O(F,null,[e(d,{title:p}),e(b,null,{title:l(()=>[g(u(p))]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",cu,[e(Ce,{class:"row",onSubmit:X(w,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":h[0]||(h[0]=M=>t(m).id=M)},null,512),[[Fe,t(m).id]]),e(Q,{modelValue:t(m).formatted_id,"onUpdate:modelValue":h[1]||(h[1]=M=>t(m).formatted_id=M),modelModifiers:{trim:!0},label:"ID Order",readonly:""},null,8,["modelValue"]),e(kt,{modelValue:t(m).datetime,"onUpdate:modelValue":h[2]||(h[2]=M=>t(m).datetime=M),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing},null,8,["modelValue","error","disable"]),e(le,{modelValue:t(m).status,"onUpdate:modelValue":h[3]||(h[3]=M=>t(m).status=M),label:"Status Order",options:t(f),"map-options":"","emit-value":"",error:!!t(m).errors.status,disable:t(m).processing,errorMessage:t(m).errors.status},null,8,["modelValue","options","error","disable","errorMessage"]),e(le,{modelValue:t(m).payment_status,"onUpdate:modelValue":h[4]||(h[4]=M=>t(m).payment_status=M),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(m).errors.payment_status,disable:t(m).processing,errorMessage:t(m).errors.payment_status},null,8,["modelValue","options","error","disable","errorMessage"]),e(le,{modelValue:t(m).delivery_status,"onUpdate:modelValue":h[5]||(h[5]=M=>t(m).delivery_status=M),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(m).errors.delivery_status,disable:t(m).processing,errorMessage:t(m).errors.delivery_status},null,8,["modelValue","options","error","disable","errorMessage"]),e(le,{modelValue:t(m).supplier_id,"onUpdate:modelValue":h[6]||(h[6]=M=>t(m).supplier_id=M),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.supplier_id,onFilter:t(s),error:!!t(m).errors.supplier_id,disable:t(m).processing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>h[9]||(h[9]=[g("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(R,{dense:"",icon:"add",type:"button",color:"primary",disable:t(m).processing,label:"Pemasok Baru"},null,8,["disable"]),e(Q,{modelValue:t(m).notes,"onUpdate:modelValue":h[7]||(h[7]=M=>t(m).notes=M),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[M=>M&&M.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(m).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(m).processing,onClick:h[8]||(h[8]=M=>t(H).get(y.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},fu=Object.freeze(Object.defineProperty({__proto__:null,default:pu},Symbol.toStringTag,{value:"Module"})),gu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},bu={class:"q-pa-sm"},_u={class:"full-width row flex-center text-grey-8 q-gutter-sm"},vu={key:0},yu={key:0},wu={key:1},ku={class:"flex justify-end"},Sl="Order Pembelian",hu={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Tt(),w=Pt(),y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...pt(m-2,m-1).reverse()],h=[{value:"all",label:"Semua Bulan"},...ft()],d=Ie({search:"",category_id:"all",year:m,month:w,...Te()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),M=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{L()});const v=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.purchase-order.delete",T.id),fetchItemsCallback:L,loading:s}),L=(T=null)=>{Pe({pagination:b,filter:d,props:T,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:f})},I=()=>{L()},$=G(()=>n.screen.gt.sm?M:M.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,x)=>{const q=j("i-head"),P=j("authenticated-layout");return k(),O(F,null,[e(q,{title:Sl}),e(P,null,De({title:l(()=>[g(u(Sl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:x[0]||(x[0]=_=>t(H).get(T.route("admin.purchase-order.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:x[1]||(x[1]=_=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",bu,[e(be,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":x[6]||(x[6]=_=>b.value=_),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:L,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:V,filter:A})=>[a("div",_u,[a("span",null,u(V)+" "+u(A?" with term "+A:""),1)])]),body:l(_=>[e(ke,{props:_},{default:l(()=>[e(D,{key:"datetime",props:_,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #"+u(_.row.id)+" - ",1),e(C,{name:"calendar_today"}),g(" "+u(_.row.datetime),1)]),e(xt,null,{default:l(()=>[e(C,{name:"category"}),g(" "+u(_.row.type_label),1)]),_:2},1024),_.row.ref_type?(k(),O("div",vu,[e(C,{name:"link"}),g(" "+u(_.row.ref_type_label)+" #"+u(_.row.ref_id),1)])):B("",!0),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:1},[_.row.notes?(k(),O("div",yu,[e(C,{name:"notes"}),g(" "+u(_.row.notes),1)])):B("",!0),_.row.category?(k(),O("div",wu,[e(C,{name:"category"}),g(" "+u(_.row.category.name),1)])):B("",!0),a("div",null,[e(C,{name:"money"}),g(" Rp. "+u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)])],64))]),_:2},1032,["props"]),e(D,{key:"account",props:_},{default:l(()=>{var V;return[g(u((V=_.row.account)==null?void 0:V.name),1)]}),_:2},1032,["props"]),e(D,{key:"notes",props:_},{default:l(()=>[g(u(_.row.notes),1)]),_:2},1032,["props"]),e(D,{key:"amount",props:_,style:{"text-align":"right"}},{default:l(()=>[g(u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:_},{default:l(()=>[a("div",ku,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{onClick:X(V=>v(_.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[7]||(x[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",gu,[e(le,{modelValue:d.year,"onUpdate:modelValue":[x[2]||(x[2]=_=>d.year=_),I],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(le,{modelValue:d.month,"onUpdate:modelValue":[x[3]||(x[3]=_=>d.month=_),I],options:h,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":x[4]||(x[4]=_=>d.search=_),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},$u=Object.freeze(Object.defineProperty({__proto__:null,default:hu},Symbol.toStringTag,{value:"Module"})),Su={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},xu={class:"col-12 col-sm-6 col-md-4"},qu={key:0,class:"col-12 col-md-4 text-center"},Cu={class:"text-h6 text-weight-bold text-grey-8"},Vu={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Tu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Pu={class:"text-weight-bold"},Xl={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},modelValue:{type:[Object,null],default:null},formProcessing:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:n}){const p=de(),{filterCustomersFn:o,customers:s}=Ht(p.props.customers,!1),f=S(null);return(r,i)=>(k(),O("div",Su,[a("div",xu,[e(le,{class:"custom-select",modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=m=>f.value=m),label:"Santri","use-input":"","input-debounce":"300",clearable:"","map-options":"","emit-value":"",options:t(s),onFilter:t(o),disable:c.formProcessing},{"no-option":l(()=>[e(J,null,{default:l(()=>[e(N,null,{default:l(()=>i[1]||(i[1]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","disable"])]),r.$q.screen.gt.sm?(k(),O("div",qu,[a("div",Cu,u(c.company.name),1),c.company.address?(k(),O("div",Vu,u(c.company.address),1)):B("",!0),c.company.phone?(k(),O("div",Tu,u(c.company.phone),1)):B("",!0)])):B("",!0),a("div",{class:fe(["col-12 col-sm-6 col-md-4",r.$q.screen.gt.sm?"text-right":"text-center"])},[a("div",Pu,u(c.user.username)+" - "+u(c.user.name),1),e(Fl)],2)]))}},Mu=Object.freeze(Object.defineProperty({__proto__:null,default:Xl},Symbol.toStringTag,{value:"Module"})),Iu={class:"text-weight-medium"},Nu={class:"text-caption text-grey-6"},Ou={class:"column items-end"},Ru={class:"text-weight-bold text-primary"},Uu={class:"text-caption text-grey-6 text-italic"},Zl={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,p)=>(k(),E(be,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:l(o=>[e(ke,{props:o,class:"bg-grey-4"},{default:l(()=>[(k(!0),O(F,null,ut(o.cols,s=>(k(),E(Dl,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:l(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(o=>[e(ke,{props:o,class:"hover-highlight"},{default:l(()=>[e(D,{key:"name",props:o,class:"text-left"},{default:l(()=>[a("div",Iu,u(o.row.name),1),a("div",Nu," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(D,{key:"subtotal",props:o,class:"text-right"},{default:l(()=>[a("div",Ou,[a("div",Ru," Rp. "+u(t(z)(o.row.price*o.row.quantity)),1),a("div",Uu,u(o.row.quantity)+" x Rp. "+u(t(z)(o.row.price)),1)])]),_:2},1032,["props"]),e(D,{key:"action",props:o,class:"text-right"},{default:l(()=>[e(R,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Au=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"})),Du={class:"column"},Eu={class:"row justify-end items-center q-gutter-sm"},ju={class:"text-h4 text-weight-bold text-primary"},Bu={class:"text-caption text-grey-6 q-mt-xs text-right"},Lu={class:"q-py-sm"},zu={class:"q-py-sm"},ea={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const p=S(null);_e(()=>{o()});const o=()=>{It(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,f)=>(k(),O("div",Du,[a("div",Eu,[f[3]||(f[3]=a("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),a("span",ju,u(t(z)(c.subtotal)),1)]),a("div",Bu,u(c.itemCount)+" item(s) ",1),a("div",Lu,[e(Q,{ref_key:"barcodeInputRef",ref:p,"model-value":c.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:f[1]||(f[1]=Lt(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:l(()=>[e(C,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),a("div",zu,[e(R,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},Hu=Object.freeze(Object.defineProperty({__proto__:null,default:ea},Symbol.toStringTag,{value:"Module"})),Yu={class:"q-ml-sm"},ta={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(c){return(n,p)=>(k(),E($t,{"model-value":c.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:l(()=>[e(se,null,{default:l(()=>[e(Z,{class:"row items-center"},{default:l(()=>{var o;return[e(ot,{icon:"delete",color:"negative","text-color":"white"}),a("span",Yu,'Hapus item "'+u((o=c.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(ct,{align:"right"},{default:l(()=>[Y(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[ne]]),Y(e(R,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[ne]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Fu=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),la={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const p=n,o=S(""),s=S(""),f=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(k(),E($t,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=m=>r.$emit("update:modelValue",m)),persistent:""},{default:l(()=>[e(se,{style:{width:"400px"}},{default:l(()=>[e(Z,{class:"q-py-none q-pt-lg"},{default:l(()=>i[3]||(i[3]=[a("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(Z,null,{default:l(()=>[e(Q,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),label:"Nama Pelanggan"},null,8,["modelValue"]),e(Q,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=m=>s.value=m),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(ct,{align:"right"},{default:l(()=>[Y(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[ne]]),Y(e(R,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[ne]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ku=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),Qu={class:"q-gutter-sm"},Wu={class:"row col grow"},Ju={class:"col-12 q-pa-sm column"},Gu={class:"row"},Xu={class:"col-xs-12 col-md-8 q-pa-sm"},Zu={class:"col-md-4 col-xs-12 q-pa-sm"},ed={key:0,class:"text-center q-mb-md text-grey-8"},td={class:"text-subtitle1 text-weight-medium"},ld={key:0,class:"text-body1"},ad={class:"text-h4 text-center text-primary q-pb-md"},od={class:"row q-col-gutter-sm justify-center"},nd={class:"col-12"},sd={class:"col-12"},xl="Penjualan",rd={__name:"Editor",setup(c){const n=ge(),p=de(),o=S(null),s=Se({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=S(""),r=S(!1),i=S(!1),m=S(null),w=S(!1),y=S(!1),h=S(null),d=S(null),b=G(()=>n.screen.gt.sm?[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}]:[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Total",align:"right",sortable:!1},{name:"action",label:"Aksi",align:"center",sortable:!1}]),M=G(()=>{const P=s.items.reduce((_,V)=>_+V.price*V.quantity,0);return s.subtotal=P,s.total=P+s.tax,P}),v=async()=>{var $e;if(!f.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"top"});return}let P=1,_=f.value.trim(),V=null;const A=_.split("*");if(A.length===3){const U=parseInt(A[0]),ve=parseFloat(A[2]);!isNaN(U)&&U>0?P=U:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),!isNaN(ve)&&ve>=0?V=ve:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"top"}),_=A[1]}else if(A.length===2){const U=parseInt(A[0]);!isNaN(U)&&U>0?P=U:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),_=A[1]}const W=s.items.findIndex(U=>U.barcode===_);if(W!==-1)s.items[W].quantity+=P,n.notify({message:`Quantity ${s.items[W].name} bertambah ${P}`,color:"positive",position:"top"});else{r.value=!0;try{await new Promise(ae=>setTimeout(ae,300));const ve={...{id:Date.now(),name:`Item ${_}`,barcode:_,price:V!==null?V:Math.floor(Math.random()*5e4)+1e4},quantity:P};s.items.push(ve),n.notify({message:`${ve.name} berhasil ditambahkan`,color:"positive",position:"top",icon:"add_shopping_cart"})}catch(U){console.error("Error fetching item:",U),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"top"})}finally{r.value=!1}}f.value="",await It(),($e=o.value)==null||$e.focusOnBarcodeInput()},L=P=>{m.value=P,i.value=!0},I=()=>{if(m.value){const P=s.items.findIndex(_=>_.id===m.value.id);if(P!==-1){const _=s.items.splice(P,1)[0];n.notify({message:`${_.name} dihapus dari keranjang`,color:"info",position:"top",icon:"remove_shopping_cart"})}m.value=null}},$=(P,_)=>{const V=s.items.find(A=>A.id===P);V&&_>0&&(V.quantity=parseInt(_)||1)},T=async()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"top"});return}await x(),y.value=!0},x=async()=>{try{h.value=s.customer_name==="Pelanggan Umum"?"Pelanggan Umum":"Nama Santri Demo",d.value=Math.floor(Math.random()*5e5)+1e4}catch(P){console.error("Gagal mengambil data santri:",P),h.value="Data tidak ditemukan",d.value=0}},q=P=>{s.items.length!==0&&(s.datetime=Ge().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status=P==="wallet"?"paid_wallet":"paid_cash",xe({form:s,url:route("admin.transaction.save")}))};return(P,_)=>{const V=j("i-head"),A=j("authenticated-layout");return k(),O(F,null,[e(V,{title:xl}),e(A,null,{title:l(()=>[g(u(xl))]),"left-button":l(()=>[a("div",Qu,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=W=>t(H).get(P.route("admin.purchase-order.index")))})])]),default:l(()=>[e(he,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(Xl,{user:t(p).props.auth.user,company:t(p).props.company,onEditCustomer:_[1]||(_[1]=W=>w.value=!0)},null,8,["user","company"]),a("div",Wu,[a("div",Ju,[e(Zl,{items:t(s).items,columns:b.value,onUpdateQuantity:_[2]||(_[2]=({id:W,value:$e})=>$(W,$e)),onRemoveItem:L},null,8,["items","columns"])])]),a("div",Gu,[a("div",Xu,[e(Q,{modelValue:t(s).notes,"onUpdate:modelValue":_[3]||(_[3]=W=>t(s).notes=W),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"}},{prepend:l(()=>[e(C,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),a("div",Zu,[e(ea,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":_[4]||(_[4]=W=>f.value=W),subtotal:M.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:_[5]||(_[5]=W=>v(f.value)),onProcessPayment:T},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(ta,{modelValue:i.value,"onUpdate:modelValue":_[6]||(_[6]=W=>i.value=W),item:m.value,onConfirm:I},null,8,["modelValue","item"]),e(la,{modelValue:w.value,"onUpdate:modelValue":_[7]||(_[7]=W=>w.value=W)},null,8,["modelValue"]),e($t,{modelValue:y.value,"onUpdate:modelValue":_[11]||(_[11]=W=>y.value=W),persistent:""},{default:l(()=>[e(se,{style:{"min-width":"350px"}},{default:l(()=>[e(Z,null,{default:l(()=>_[12]||(_[12]=[a("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(Z,{class:"q-pt-none"},{default:l(()=>[h.value?(k(),O("div",ed,[a("div",td,u(h.value),1),d.value!==null?(k(),O("div",ld," Saldo: Rp. "+u(d.value.toLocaleString("id-ID")),1)):B("",!0)])):B("",!0),a("div",ad," Rp. "+u(t(s).total.toLocaleString("id-ID")),1),a("div",od,[a("div",nd,[e(R,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:_[8]||(_[8]=W=>q("cash")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])]),a("div",sd,[e(R,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:_[9]||(_[9]=W=>q("wallet")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])])])]),_:1}),e(ct,{align:"right",class:"q-py-md"},{default:l(()=>[e(R,{flat:"",label:"Batal",color:"grey",onClick:_[10]||(_[10]=W=>y.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}},id=nt(rd,[["__scopeId","data-v-0a06bdf1"]]),ud=Object.freeze(Object.defineProperty({__proto__:null,default:id},Symbol.toStringTag,{value:"Module"})),dd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},md={class:"q-pa-sm"},cd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},pd={key:0},fd={key:0},gd={key:1},bd={class:"flex justify-end"},ql="Penjualan",_d={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Tt(),w=Pt(),y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...pt(m-2,m-1).reverse()],h=[{value:"all",label:"Semua Bulan"},...ft()],d=Ie({search:"",category_id:"all",year:m,month:w,...Te()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),M=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{L()});const v=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.sales-order.delete",T.id),fetchItemsCallback:L,loading:s}),L=(T=null)=>{Pe({pagination:b,filter:d,props:T,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:f})},I=()=>{L()},$=G(()=>n.screen.gt.sm?M:M.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,x)=>{const q=j("i-head"),P=j("authenticated-layout");return k(),O(F,null,[e(q,{title:ql}),e(P,null,De({title:l(()=>[g(u(ql))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:x[0]||(x[0]=_=>t(H).get(T.route("admin.sales-order.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:x[1]||(x[1]=_=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",md,[e(be,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":x[6]||(x[6]=_=>b.value=_),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:L,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:V,filter:A})=>[a("div",cd,[a("span",null,u(V)+" "+u(A?" with term "+A:""),1)])]),body:l(_=>[e(ke,{props:_},{default:l(()=>[e(D,{key:"datetime",props:_,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #"+u(_.row.id)+" - ",1),e(C,{name:"calendar_today"}),g(" "+u(_.row.datetime),1)]),e(xt,null,{default:l(()=>[e(C,{name:"category"}),g(" "+u(_.row.type_label),1)]),_:2},1024),_.row.ref_type?(k(),O("div",pd,[e(C,{name:"link"}),g(" "+u(_.row.ref_type_label)+" #"+u(_.row.ref_id),1)])):B("",!0),t(n).screen.gt.sm?B("",!0):(k(),O(F,{key:1},[_.row.notes?(k(),O("div",fd,[e(C,{name:"notes"}),g(" "+u(_.row.notes),1)])):B("",!0),_.row.category?(k(),O("div",gd,[e(C,{name:"category"}),g(" "+u(_.row.category.name),1)])):B("",!0),a("div",null,[e(C,{name:"money"}),g(" Rp. "+u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)])],64))]),_:2},1032,["props"]),e(D,{key:"account",props:_},{default:l(()=>{var V;return[g(u((V=_.row.account)==null?void 0:V.name),1)]}),_:2},1032,["props"]),e(D,{key:"notes",props:_},{default:l(()=>[g(u(_.row.notes),1)]),_:2},1032,["props"]),e(D,{key:"amount",props:_,style:{"text-align":"right"}},{default:l(()=>[g(u(t(We)(_.row.amount)+t(z)(_.row.amount)),1)]),_:2},1032,["props"]),e(D,{key:"action",props:_},{default:l(()=>[a("div",bd,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{onClick:X(V=>v(_.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[7]||(x[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",dd,[e(le,{modelValue:d.year,"onUpdate:modelValue":[x[2]||(x[2]=_=>d.year=_),I],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(le,{modelValue:d.month,"onUpdate:modelValue":[x[3]||(x[3]=_=>d.month=_),I],options:h,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":x[4]||(x[4]=_=>d.search=_),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},vd=Object.freeze(Object.defineProperty({__proto__:null,default:_d},Symbol.toStringTag,{value:"Module"})),yd={class:"q-gutter-sm"},wd={class:"col col-lg-6 q-pa-sm"},kd={key:0},hd={class:"text-bold"},$d={key:0},Sd={class:"text-caption text-grey-8"},xd={key:1},Cl="Buat Penyesuaian Stok",qd={__name:"Create",setup(c){const p=de().props.products,o=S([]),s=Se({type:"stock_opname",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),f=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(y,h)=>z(y)+" "+h.uom}],r=je(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{s.product_ids=o.value.map(y=>y.id),xe({form:s,url:route("admin.stock-adjustment.create")})},m=ge(),w=G(()=>m.screen.gt.sm?f:f.filter(y=>y.name==="name"));return(y,h)=>{const d=j("i-head"),b=j("authenticated-layout");return k(),O(F,null,[e(d,{title:Cl}),e(b,null,{title:l(()=>[g(u(Cl))]),"left-button":l(()=>[a("div",yd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=M=>t(H).get(y.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",wd,[e(Ce,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-sm"},{default:l(()=>[h[6]||(h[6]=a("div",{class:"text-subtitle2"},[a("b",null,"Info Penyesuaian Stok")],-1)),e(kt,{modelValue:t(s).datetime,"onUpdate:modelValue":h[1]||(h[1]=M=>t(s).datetime=M),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(le,{modelValue:t(s).type,"onUpdate:modelValue":h[2]||(h[2]=M=>t(s).type=M),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type},null,8,["modelValue","options","error","disable","error-message"]),e(Q,{modelValue:t(s).notes,"onUpdate:modelValue":h[3]||(h[3]=M=>t(s).notes=M),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[]},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,null,{default:l(()=>[h[7]||(h[7]=a("div",{class:"text-subtitle2"},[a("b",null,"Pilih Produk")],-1)),e(be,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:w.value,rows:t(p),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":h[4]||(h[4]=M=>o.value=M)},{"body-cell-name":l(M=>[e(D,{props:M},{default:l(()=>[t(m).screen.lt.md?(k(),O("div",kd,[a("div",hd,u(M.row.name),1),M.row.category?(k(),O("div",$d,u(M.row.category.name),1)):B("",!0),a("div",Sd,u(t(z)(M.row.stock))+" "+u(M.row.uom),1)])):(k(),O("div",xd,u(M.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:h[5]||(h[5]=M=>t(H).get(y.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Cd=Object.freeze(Object.defineProperty({__proto__:null,default:qd},Symbol.toStringTag,{value:"Module"})),Vd={class:"q-gutter-sm"},Td={class:"row justify-center"},Pd={class:"col col-lg-8 q-pa-sm"},Md={class:"row"},Id={class:"detail"},Nd={key:0},Od={key:1},Rd={class:"text-grey-9"},Ud={__name:"Detail",setup(c){const n=de(),p=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>z(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>z(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>z(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],f=ge(),r=G(()=>f.screen.gt.sm?s:s.filter(i=>i.name==="no"));return(i,m)=>{const w=j("i-head"),y=j("i-link"),h=j("authenticated-layout");return k(),O(F,null,[e(w,{title:p}),e(h,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",Vd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=d=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:l(()=>[a("div",Td,[a("div",Pd,[a("div",Md,[e(se,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(Z,null,{default:l(()=>[m[21]||(m[21]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),a("table",Id,[a("tbody",null,[a("tr",null,[m[1]||(m[1]=a("td",{style:{width:"120px"}},"ID",-1)),m[2]||(m[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+u(t(n).props.data.id),1)]),a("tr",null,[m[3]||(m[3]=a("td",null,"Jenis",-1)),m[4]||(m[4]=a("td",null,":",-1)),a("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),a("tr",null,[m[5]||(m[5]=a("td",null,"Status",-1)),m[6]||(m[6]=a("td",null,":",-1)),a("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),a("tr",null,[m[7]||(m[7]=a("td",null,"Waktu",-1)),m[8]||(m[8]=a("td",null,":",-1)),a("td",null,u(i.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(k(),O("tr",Nd,[m[10]||(m[10]=a("td",null,"Dibuat Oleh",-1)),m[11]||(m[11]=a("td",null,":",-1)),a("td",null,[t(n).props.data.created_by?(k(),O(F,{key:0},[e(y,{href:i.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:l(()=>[g(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),m[9]||(m[9]=g(" - "))],64)):B("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):B("",!0),t(n).props.data.updated_at?(k(),O("tr",Od,[m[13]||(m[13]=a("td",null,"Diperbarui oleh",-1)),m[14]||(m[14]=a("td",null,":",-1)),a("td",null,[t(n).props.data.updated_by?(k(),O(F,{key:0},[e(y,{href:i.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:l(()=>[g(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),m[12]||(m[12]=g(" - "))],64)):B("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):B("",!0),a("tr",null,[m[15]||(m[15]=a("td",null,"Total Modal",-1)),m[16]||(m[16]=a("td",null,":",-1)),a("td",null,[a("div",{class:fe(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(z)(t(n).props.data.total_cost)),3)])]),a("tr",null,[m[17]||(m[17]=a("td",null,"Total Harga",-1)),m[18]||(m[18]=a("td",null,":",-1)),a("td",null,[a("div",{class:fe(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(z)(t(n).props.data.total_price)),3)])]),a("tr",null,[m[19]||(m[19]=a("td",null,"Catatan",-1)),m[20]||(m[20]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(Z,null,{default:l(()=>[m[26]||(m[26]=a("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(be,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(d=>[e(D,{props:d},{default:l(()=>[t(f).screen.lt.md?(k(),O(F,{key:1},[a("div",Rd,[a("b",null,"#"+u(d.rowIndex+1),1),g(" - "+u(d.row.product_name),1)]),a("div",null,[g(" Stok Lama: "+u(t(z)(d.row.old_quantity))+" "+u(d.row.uom),1),m[23]||(m[23]=a("br",null,null,-1)),g(" Stok Baru: "+u(t(z)(d.row.new_quantity))+" "+u(d.row.uom),1),m[24]||(m[24]=a("br",null,null,-1)),a("div",{class:fe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},[g(" Selisih: "+u((d.row.balance>0?"+":"")+t(z)(d.row.balance))+" "+u(d.row.uom),1),m[22]||(m[22]=a("br",null,null,-1)),g(" (Rp. "+u(t(z)(d.row.subtotal_cost))+" / Rp. "+u(t(z)(d.row.subtotal_price))+") ",1)],2),m[25]||(m[25]=a("br",null,null,-1)),g(" "+u(d.row.notes),1)])],64)):(k(),O(F,{key:0},[g(u(d.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(d=>[e(D,{props:d},{default:l(()=>[a("div",{class:fe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u((d.row.balance>0?"+":"")+t(z)(d.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(d=>[e(D,{props:d},{default:l(()=>[a("div",{class:fe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(z)(d.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(d=>[e(D,{props:d},{default:l(()=>[a("div",{class:fe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(z)(d.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},Ad=Object.freeze(Object.defineProperty({__proto__:null,default:Ud},Symbol.toStringTag,{value:"Module"})),Dd={class:"q-gutter-sm"},Ed={class:"col col-lg-6 q-pa-sm"},jd={class:"text-bold"},Bd={key:0},Ld={class:"text-caption text-grey-8"},Vl="Penyesuaian Stok",zd={__name:"Editor",setup(c){const n=de(),p=Se({id:n.props.item.id,type:n.props.item.type,datetime:Ge(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=je(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,f=w=>{const y=()=>{p.action=w,p.details=s.map(h=>({id:h.id,new_quantity:h.new_quantity})),xe({form:p,url:route("admin.stock-adjustment.save")})};w==="close"||w==="cancel"?Ta.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{y()}).onCancel(()=>{}):y()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:w=>z(w)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:w=>z(w)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(w,y)=>z(y.new_quantity-y.old_quantity)}],i=ge(),m=G(()=>i.screen.gt.sm?r:r.filter(w=>w.name==="product_name"||w.name==="new_quantity"));return(w,y)=>{const h=j("i-head"),d=j("authenticated-layout");return k(),O(F,null,[e(h,{title:Vl}),e(d,null,{title:l(()=>[g(u(Vl))]),"left-button":l(()=>[a("div",Dd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=b=>w.$inertia.get(w.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",Ed,[e(Ce,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>y[8]||(y[8]=[a("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=b=>t(p).id=b)},null,512),[[Fe,t(p).id]]),e(kt,{modelValue:t(p).datetime,"onUpdate:modelValue":y[2]||(y[2]=b=>t(p).datetime=b),label:"Waktu",error:!!t(p).errors.datetime,disable:t(p).processing,"error-message":t(p).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(le,{modelValue:t(p).type,"onUpdate:modelValue":y[3]||(y[3]=b=>t(p).type=b),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(p).errors.type,disable:t(p).processing,"map-options":"","emit-value":"","error-message":t(p).errors.type},null,8,["modelValue","options","error","disable","error-message"]),e(Q,{modelValue:t(p).notes,"onUpdate:modelValue":y[4]||(y[4]=b=>t(p).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,rules:[]},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Z,null,{default:l(()=>[e(be,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:m.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(b=>[e(D,{props:b},{default:l(()=>[a("div",jd,u(b.row.product_name),1),t(i).screen.lt.md?(k(),O("div",Bd,[a("div",Ld,[g(" Tercatat: "+u(t(z)(b.row.old_quantity))+" ",1),y[9]||(y[9]=a("br",null,null,-1)),g(" Selisih: "+u(t(z)(b.row.new_quantity-b.row.old_quantity)),1)])])):B("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(b=>[e(D,{props:b},{default:l(()=>[e(Q,{modelValue:b.row[b.col.name],"onUpdate:modelValue":M=>b.row[b.col.name]=M,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",onClick:y[5]||(y[5]=b=>f("save")),label:"Simpan",color:"primary",disable:t(p).processing},null,8,["disable"]),e(R,{icon:"done_all",onClick:y[6]||(y[6]=b=>f("close")),label:"Selesaikan",color:"green",disable:t(p).processing},null,8,["disable"]),e(R,{icon:"close",onClick:y[7]||(y[7]=b=>f("cancel")),label:"Batalkan",color:"red",disable:t(p).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Hd=Object.freeze(Object.defineProperty({__proto__:null,default:zd},Symbol.toStringTag,{value:"Module"})),Yd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Fd={class:"q-pa-sm"},Kd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Qd={key:0,class:"flex q-gutter-xs"},Wd={class:"flex q-col-gutter-xs"},Jd={key:0},Gd={key:1},Xd={class:"flex justify-end"},Tl="Penyesuaian Stok",Zd={__name:"Index",setup(c){const n=S([]),p=S(!0),o=S(!1),s=S(null),f=S(null),r=Be(f),i=Ie({search:"",status:"all",type:"all",...Te()}),m=[{value:"all",label:"Semua"},...je(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],w=[{value:"all",label:"Semua"},...je(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],y=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),h=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];_e(()=>{b()});const d=$=>ze({message:`Hapus Transaksi #${$.id}?`,url:route("admin.stock-adjustment.delete",$.id),fetchItemsCallback:b,loading:p}),b=($=null)=>Pe({pagination:y,filter:i,props:$,rows:n,url:route("admin.stock-adjustment.data"),loading:p,tableRef:s}),M=()=>{b()},v=$=>{$.status=="draft"?H.get(route("admin.stock-adjustment.editor",$.id)):H.get(route("admin.stock-adjustment.detail",$.id))},L=ge(),I=G(()=>L.screen.gt.sm?h:h.filter($=>$.name==="id"||$.name==="action"));return($,T)=>{const x=j("i-head"),q=j("authenticated-layout");return k(),O(F,null,[e(x,{title:Tl}),e(q,null,De({"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:T[0]||(T[0]=P=>t(H).get($.route("admin.stock-adjustment.create")))}),e(R,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:T[1]||(T[1]=P=>o.value=!o.value)},null,8,["icon"])]),title:l(()=>[g(u(Tl))]),default:l(()=>[a("div",Fd,[e(be,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":T[6]||(T[6]=P=>y.value=P),filter:i.search,loading:p.value,columns:I.value,rows:n.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:P,message:_,filter:V})=>[a("div",Kd,[a("span",null,u(_)+" "+u(V?" with term "+V:""),1)])]),body:l(P=>[e(ke,{props:P,onClick:_=>v(P.row),class:"cursor-pointer"},{default:l(()=>[e(D,{key:"id",props:P},{default:l(()=>[t(L).screen.lt.md?(k(),O(F,{key:1},[a("div",Wd,[a("div",null,[a("b",null,"#"+u(P.row.id),1)]),a("div",null,[e(C,{name:"history"}),g(" "+u($.$dayjs(new Date(P.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Pa,{dense:"",size:"sm",color:P.row.status==="draft"?"orange":P.row.status==="closed"?"green":P.row.status==="canceled"?"red":"",icon:P.row.status==="draft"?"emergency":P.row.status==="closed"?"check":P.row.status==="canceled"?"close":""},{default:l(()=>[g(u($.$CONSTANTS.STOCKADJUSTMENT_STATUSES[P.row.status]),1)]),_:2},1032,["color","icon"])]),a("div",null,[e(C,{name:"category"}),g(" "+u($.$CONSTANTS.STOCKADJUSTMENT_TYPES[P.row.type]),1)]),P.row.created_by?(k(),O("div",Jd,[e(C,{name:"person"}),T[7]||(T[7]=g(" Dibuat: ")),a("b",null,u(P.row.created_by.username),1),e(C,{name:"history"}),g(" "+u($.$dayjs(new Date(P.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):B("",!0),P.row.updated_by?(k(),O("div",Gd,[e(C,{name:"person"}),T[8]||(T[8]=g(" Diperbarui: ")),a("b",null,u(P.row.updated_by.username),1),e(C,{name:"history"}),g(" "+u($.$dayjs(new Date(P.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):B("",!0),a("div",{class:fe(P.row.total_cost<0?"text-red-10":P.row.total_cost>0?"text-green-10":"")},[e(C,{name:"money"}),g(" Rp. "+u(t(z)(P.row.total_cost))+" / Rp. "+u(t(z)(P.row.total_price)),1)],2)],64)):(k(),O("div",Qd,[a("div",null,[a("b",null,"#"+u(P.row.id),1)])]))]),_:2},1032,["props"]),e(D,{key:"datetime",props:P},{default:l(()=>[g(u($.$dayjs(new Date(P.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(D,{key:"status",props:P,class:"text-center"},{default:l(()=>[g(u($.$CONSTANTS.STOCKADJUSTMENT_STATUSES[P.row.status]),1)]),_:2},1032,["props"]),e(D,{key:"type",props:P},{default:l(()=>[g(u($.$CONSTANTS.STOCKADJUSTMENT_TYPES[P.row.type]),1)]),_:2},1032,["props"]),e(D,{key:"total_cost",props:P},{default:l(()=>[a("div",{class:fe(P.row.total_cost<0?"text-red-10":P.row.total_cost>0?"text-green-10":"")},u(t(z)(P.row.total_cost)),3)]),_:2},1032,["props"]),e(D,{key:"total_price",props:P},{default:l(()=>[a("div",{class:fe(P.row.total_price<0?"text-red-10":P.row.total_price>0?"text-green-10":"")},u(t(z)(P.row.total_price)),3)]),_:2},1032,["props"]),e(D,{key:"notes",props:P},{default:l(()=>[g(u(P.row.notes),1)]),_:2},1032,["props"]),e(D,{key:"action",props:P},{default:l(()=>[a("div",Xd,[e(R,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:T[5]||(T[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{onClick:X(_=>d(P.row),["stop"]),clickable:"",disabled:!t(Ye)($.$CONSTANTS.USER_ROLE_ADMIN)},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>T[9]||(T[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:l(()=>[a("div",Yd,[e(le,{modelValue:i.status,"onUpdate:modelValue":[T[2]||(T[2]=P=>i.status=P),M],options:m,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{modelValue:i.type,"onUpdate:modelValue":[T[3]||(T[3]=P=>i.type=P),M],options:w,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":T[4]||(T[4]=P=>i.search=P),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},em=Object.freeze(Object.defineProperty({__proto__:null,default:Zd},Symbol.toStringTag,{value:"Module"})),tm={class:"q-gutter-sm"},lm={class:"q-gutter-sm"},am={class:"col col-lg-6 q-pa-sm"},om={class:"row"},nm={class:"detail"},Pl="Rincian Pemasok",sm={__name:"Detail",setup(c){const n=de();return(p,o)=>{const s=j("i-head"),f=j("authenticated-layout");return k(),O(F,null,[e(s,{title:Pl}),e(f,null,{title:l(()=>[g(u(Pl))]),"left-button":l(()=>[a("div",tm,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(H).get(p.route("admin.supplier.index")))})])]),"right-button":l(()=>[a("div",lm,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(H).get(p.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",am,[a("div",om,[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>[o[14]||(o[14]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),a("table",nm,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(n).props.data.name),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Telepon",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.phone),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Alamat",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.address),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"No. Rek",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.bank_account_number),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat Return",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.return_address),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Status",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},rm=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"})),im={class:"q-gutter-sm"},um={class:"col col-lg-6 q-pa-sm"},dm={style:{"margin-left":"-10px"}},mm={__name:"Editor",setup(c){const n=de(),p=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Se({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>xe({form:o,url:route("admin.supplier.save")});return(f,r)=>{const i=j("i-head"),m=j("authenticated-layout");return k(),O(F,null,[e(i,{title:p}),e(m,null,{title:l(()=>[g(u(p))]),"left-button":l(()=>[a("div",im,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=w=>t(H).get(f.route("admin.supplier.index")))})])]),default:l(()=>[e(he,{class:"row justify-center"},{default:l(()=>[a("div",um,[e(Ce,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Ne)},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>r[9]||(r[9]=[a("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=w=>t(o).id=w)},null,512),[[Fe,t(o).id]]),e(Q,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=w=>t(o).name=w),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[w=>w&&w.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=w=>t(o).phone=w),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone},null,8,["modelValue","disable","error","error-message"]),e(Q,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=w=>t(o).address=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address},null,8,["modelValue","disable","error","error-message"]),e(Q,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=w=>t(o).bank_account_number=w),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number},null,8,["modelValue","disable","error","error-message"]),e(Q,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=w=>t(o).return_address=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address},null,8,["modelValue","disable","error","error-message"]),a("div",dm,[e(vt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=w=>t(o).active=w),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=w=>t(H).get(f.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},cm=Object.freeze(Object.defineProperty({__proto__:null,default:mm},Symbol.toStringTag,{value:"Module"})),pm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},fm={class:"q-pa-sm"},gm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},bm={class:"flex justify-end"},Ml="Pemasok",_m={__name:"Index",setup(c){const n=ge(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),m=Ie({search:"",status:"active",...Te()}),w=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],h=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];_e(()=>{b()});const d=I=>ze({message:`Hapus pemasok ${I.name}?`,url:route("admin.supplier.delete",I.id),fetchItemsCallback:b,loading:s}),b=(I=null)=>{Pe({pagination:w,filter:m,props:I,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:f})},M=()=>b(),v=I=>H.get(route("admin.supplier.detail",{id:I.id})),L=G(()=>n.screen.gt.sm?y:y.filter(I=>I.name==="name"||I.name==="action"));return(I,$)=>{const T=j("i-head"),x=j("authenticated-layout");return k(),O(F,null,[e(T,{title:Ml}),e(x,null,De({title:l(()=>[g(u(Ml))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=q=>t(H).get(I.route("admin.supplier.add")))}),e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=q=>p.value=!p.value)},null,8,["icon"])]),default:l(()=>[a("div",fm,[e(be,{class:"full-height-table",ref_key:"tableRef",ref:f,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:w.value,"onUpdate:pagination":$[5]||($[5]=q=>w.value=q),filter:m.search,loading:s.value,columns:L.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:q,message:P,filter:_})=>[a("div",gm,[a("span",null,u(P)+" "+u(_?" with term "+_:""),1)])]),body:l(q=>[e(ke,{props:q,class:fe([q.row.active?"":"bg-red-1","cursor-pointer"]),onClick:P=>v(q.row)},{default:l(()=>[e(D,{key:"name",props:q,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(k(),E(C,{key:0,name:"person"})):B("",!0),g(" "+u(q.row.name),1)]),t(n).screen.lt.md?(k(),O(F,{key:0},[a("div",null,[e(C,{name:"phone"}),g(" "+u(q.row.phone),1)]),a("div",null,[e(C,{name:"credit_card"}),g(" "+u(q.row.bank_account_number),1)]),a("div",null,[e(C,{name:"home_pin"}),g(" "+u(q.row.address),1)])],64)):B("",!0)]),_:2},1032,["props"]),e(D,{key:"phone",props:q},{default:l(()=>[g(u(q.row.phone),1)]),_:2},1032,["props"]),e(D,{key:"address",props:q},{default:l(()=>[g(u(q.row.address),1)]),_:2},1032,["props"]),e(D,{key:"bank_account_number",props:q},{default:l(()=>[g(u(q.row.bank_account_number),1)]),_:2},1032,["props"]),e(D,{key:"action",props:q},{default:l(()=>[a("div",bm,[e(R,{disabled:!t(Ye)(I.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[4]||($[4]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(P=>t(H).get(I.route("admin.supplier.duplicate",q.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>$[6]||($[6]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X(P=>t(H).get(I.route("admin.supplier.edit",q.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>$[7]||($[7]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(P=>d(q.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>$[8]||($[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",pm,[e(le,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=q=>m.status=q),M],options:h,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=q=>m.search=q),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},vm=Object.freeze(Object.defineProperty({__proto__:null,default:_m},Symbol.toStringTag,{value:"Module"})),ym={class:"q-gutter-sm"},wm={class:"q-gutter-sm"},km={class:"row justify-center"},hm={class:"col col-lg-6 q-pa-sm"},$m={class:"row"},Sm={class:"detail"},xm={key:0},Il="Rincian Pengguna",qm={__name:"Detail",setup(c){const n=de();return(p,o)=>{const s=j("i-head"),f=j("authenticated-layout");return k(),O(F,null,[e(s,{title:Il}),e(f,null,{title:l(()=>[g(u(Il))]),"left-button":l(()=>[a("div",ym,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>p.$inertia.get(p.route("admin.user.index")))})])]),"right-button":l(()=>[a("div",wm,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>p.$inertia.get(p.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[a("div",km,[a("div",hm,[a("div",$m,[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,null,{default:l(()=>[o[17]||(o[17]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),a("table",Sm,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(n).props.data.username),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Hak Akses",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,u(p.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Dibuat",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,u(p.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Diperbarui",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,u(p.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Terakhir login",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,u(t(n).props.data.last_login_datetime?p.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(k(),O("tr",xm,[o[15]||(o[15]=a("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=a("td",null,":",-1)),a("td",null,[g(u(p.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=a("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])):B("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},Cm=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"}));function Vm(c){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(c)}const Tm={class:"q-gutter-sm"},Pm={class:"row justify-center"},Mm={class:"col col-lg-6 q-pa-sm"},Im={__name:"Editor",setup(c){const n=je(window.CONSTANTS.USER_ROLES),p=de(),o=p.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=Se({id:p.props.data.id,name:p.props.data.name,username:p.props.data.username,password:"",role:p.props.data.role?p.props.data.role:n[0].value,active:!!p.props.data.active}),f=()=>xe({form:s,url:route("admin.user.save")});return(r,i)=>{const m=j("i-head"),w=j("authenticated-layout");return k(),O(F,null,[e(m,{title:t(o)},null,8,["title"]),e(w,null,{title:l(()=>[g(u(t(o)),1)]),"left-button":l(()=>[a("div",Tm,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=y=>r.$inertia.get(r.route("admin.user.index")))})])]),default:l(()=>[a("div",Pm,[a("div",Mm,[e(Ce,{class:"row",onSubmit:X(f,["prevent"])},{default:l(()=>[e(se,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Z,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=y=>t(s).id=y)},null,512),[[Fe,t(s).id]]),e(Q,{modelValue:t(s).name,"onUpdate:modelValue":i[2]||(i[2]=y=>t(s).name=y),modelModifiers:{trim:!0},label:"Nama",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Q,{modelValue:t(s).username,"onUpdate:modelValue":i[3]||(i[3]=y=>t(s).username=y),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[y=>y&&y.length>0||"ID Pengguna harus diisi.",y=>t(Vm)(y)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Q,{modelValue:t(s).password,"onUpdate:modelValue":i[4]||(i[4]=y=>t(s).password=y),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(le,{modelValue:t(s).role,"onUpdate:modelValue":i[5]||(i[5]=y=>t(s).role=y),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(zt,{modelValue:t(s).active,"onUpdate:modelValue":i[6]||(i[6]=y=>t(s).active=y),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(Z,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:f},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:i[7]||(i[7]=y=>t(H).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},Nm=Object.freeze(Object.defineProperty({__proto__:null,default:Im},Symbol.toStringTag,{value:"Module"})),Om={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Rm={class:"q-pa-sm"},Um={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Am={class:"elipsis",style:{"max-width":"200px"}},Dm={class:"flex justify-end"},Nl="Pengguna",Em={__name:"Index",setup(c){const n=[{value:"all",label:"Semua"},...je(window.CONSTANTS.USER_ROLES)],p=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=de(),s=ge(),f=o.props.auth.user,r=S([]),i=S(!0),m=S(!1),w=Ie({role:"all",status:"active",search:""}),y=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),h=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];_e(()=>{b()});const d=()=>b(),b=(x=null)=>Pe({pagination:y,props:x,rows:r,loading:i,filter:w,url:route("admin.user.data"),tableRef:I}),M=x=>ze({url:route("admin.user.delete",x.id),message:`Hapus pengguna ${x.username}?`,fetchItemsCallback:b,loading:i}),v=G(()=>s.screen.gt.sm?h:h.filter(x=>x.name==="username"||x.name==="action")),L=x=>H.get(route("admin.user.detail",x.id)),I=S(null),$=S(null),T=Be($);return(x,q)=>{const P=j("i-head"),_=j("authenticated-layout");return k(),O(F,null,[e(P,{title:Nl}),e(_,null,De({title:l(()=>[g(u(Nl))]),"right-button":l(()=>[e(R,{icon:"add",dense:"",color:"primary",onClick:q[0]||(q[0]=V=>t(H).get(x.route("admin.user.add")))}),e(R,{class:"q-ml-sm",icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:q[1]||(q[1]=V=>m.value=!m.value)},null,8,["icon"])]),default:l(()=>[a("div",Rm,[e(be,{ref_key:"tableRef",ref:I,class:"full-height-table",style:He({height:t(T)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":q[6]||(q[6]=V=>y.value=V),filter:w.search,loading:i.value,columns:v.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Me,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:A,term:W})=>[a("div",Um,[a("span",null,u(A)+" "+u(W?" with term "+W:""),1)])]),body:l(V=>[e(ke,{props:V,class:fe([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:A=>L(V.row)},{default:l(()=>[e(D,{key:"username",props:V},{default:l(()=>[a("div",null,u(V.row.username),1),t(s).screen.gt.sm?B("",!0):(k(),O(F,{key:0},[a("div",null,[e(C,{name:"person"}),g(" "+u(V.row.name),1)]),a("div",Am,[e(C,{name:"group"}),a("span",null,u(x.$CONSTANTS.USER_ROLES[V.row.role]),1)])],64))]),_:2},1032,["props"]),e(D,{key:"name",props:V},{default:l(()=>[g(u(V.row.name),1)]),_:2},1032,["props"]),e(D,{key:"role",props:V,align:"center"},{default:l(()=>[a("span",null,u(x.$CONSTANTS.USER_ROLES[V.row.role]),1)]),_:2},1032,["props"]),e(D,{key:"action",props:V},{default:l(()=>[a("div",Dm,[e(R,{disable:V.row.id==t(f).id||V.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:q[5]||(q[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(qe,{style:{width:"200px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",onClick:X(A=>t(H).get(x.route("admin.user.duplicate",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>q[7]||(q[7]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{clickable:"",onClick:X(A=>t(H).get(x.route("admin.user.edit",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>q[8]||(q[8]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]]),Y((k(),E(J,{onClick:X(A=>M(V.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>q[9]||(q[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ee],[ne]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Oe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:$},{default:l(()=>[a("div",Om,[e(le,{modelValue:w.role,"onUpdate:modelValue":[q[2]||(q[2]=V=>w.role=V),d],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(le,{modelValue:w.status,"onUpdate:modelValue":[q[3]||(q[3]=V=>w.status=V),d],class:"custom-select col-xs-12 col-sm-2",options:p,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Q,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":q[4]||(q[4]=V=>w.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},jm=Object.freeze(Object.defineProperty({__proto__:null,default:Em},Symbol.toStringTag,{value:"Module"})),Bm=st({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(c,{slots:n,emit:p}){let o=!1,s,f,r=null,i=null,m,w;function y(){s&&s(),s=null,o=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),f!==void 0&&f.removeEventListener("transitionend",m),m=null}function h(v,L,I){L!==void 0&&(v.style.height=`${L}px`),v.style.transition=`height ${c.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=I}function d(v,L){v.style.overflowY=null,v.style.height=null,v.style.transition=null,y(),L!==w&&p(L)}function b(v,L){let I=0;f=v,o===!0?(y(),I=v.offsetHeight===v.scrollHeight?0:void 0):(w="hide",v.style.overflowY="hidden"),h(v,I,L),r=setTimeout(()=>{r=null,v.style.height=`${v.scrollHeight}px`,m=$=>{i=null,(Object($)!==$||$.target===v)&&d(v,"show")},v.addEventListener("transitionend",m),i=setTimeout(m,c.duration*1.1)},100)}function M(v,L){let I;f=v,o===!0?y():(w="show",v.style.overflowY="hidden",I=v.scrollHeight),h(v,I,L),r=setTimeout(()=>{r=null,v.style.height=0,m=$=>{i=null,(Object($)!==$||$.target===v)&&d(v,"hide")},v.addEventListener("transitionend",m),i=setTimeout(m,c.duration*1.1)},100)}return Mt(()=>{o===!0&&y()}),()=>ue(jl,{css:!1,appear:c.appear,onEnter:b,onLeave:M},n.default)}}),tt=Ga({}),Lm=Object.keys(El),lt=st({name:"QExpansionItem",props:{...El,...Ia,...Ul,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ma,"click","afterShow","afterHide"],setup(c,{slots:n,emit:p}){const{proxy:{$q:o}}=St(),s=Al(c,o),f=S(c.modelValue!==null?c.modelValue:c.defaultOpened),r=S(null),i=Na(),{show:m,hide:w,toggle:y}=Oa({showing:f});let h,d;const b=G(()=>`q-expansion-item q-item-type q-expansion-item--${f.value===!0?"expanded":"collapsed"} q-expansion-item--${c.popup===!0?"popup":"standard"}`),M=G(()=>c.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:c.contentInsetLevel*56+"px"}),v=G(()=>c.disable!==!0&&(c.href!==void 0||c.to!==void 0&&c.to!==null&&c.to!=="")),L=G(()=>{const oe={};return Lm.forEach(Ee=>{oe[Ee]=c[Ee]}),oe}),I=G(()=>v.value===!0||c.expandIconToggle!==!0),$=G(()=>c.expandedIcon!==void 0&&f.value===!0?c.expandedIcon:c.expandIcon||o.iconSet.expansionItem[c.denseToggle===!0?"denseIcon":"icon"]),T=G(()=>c.disable!==!0&&(v.value===!0||c.expandIconToggle===!0)),x=G(()=>({expanded:f.value===!0,detailsId:i.value,toggle:y,show:m,hide:w})),q=G(()=>{const oe=c.toggleAriaLabel!==void 0?c.toggleAriaLabel:o.lang.label[f.value===!0?"collapse":"expand"](c.label);return{role:"button","aria-expanded":f.value===!0?"true":"false","aria-controls":i.value,"aria-label":oe}});Ve(()=>c.group,oe=>{d!==void 0&&d(),oe!==void 0&&$e()});function P(oe){v.value!==!0&&y(oe),p("click",oe)}function _(oe){oe.keyCode===13&&V(oe,!0)}function V(oe,Ee){Ee!==!0&&r.value!==null&&r.value.focus(),y(oe),_t(oe)}function A(){p("afterShow")}function W(){p("afterHide")}function $e(){h===void 0&&(h=Ra()),f.value===!0&&(tt[c.group]=h);const oe=Ve(f,et=>{et===!0?tt[c.group]=h:tt[c.group]===h&&delete tt[c.group]}),Ee=Ve(()=>tt[c.group],(et,Nt)=>{Nt===h&&et!==void 0&&et!==h&&w()});d=()=>{oe(),Ee(),tt[c.group]===h&&delete tt[c.group],d=void 0}}function U(){const oe={class:[`q-focusable relative-position cursor-pointer${c.denseToggle===!0&&c.switchToggleSide===!0?" items-end":""}`,c.expandIconClass],side:c.switchToggleSide!==!0,avatar:c.switchToggleSide},Ee=[ue(C,{class:"q-expansion-item__toggle-icon"+(c.expandedIcon===void 0&&f.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:$.value})];return T.value===!0&&(Object.assign(oe,{tabindex:0,...q.value,onClick:V,onKeyup:_}),Ee.unshift(ue("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ue(N,oe,()=>Ee)}function ve(){let oe;return n.header!==void 0?oe=[].concat(n.header(x.value)):(oe=[ue(N,()=>[ue(re,{lines:c.labelLines},()=>c.label||""),c.caption?ue(re,{lines:c.captionLines,caption:!0},()=>c.caption):null])],c.icon&&oe[c.switchToggleSide===!0?"push":"unshift"](ue(N,{side:c.switchToggleSide===!0,avatar:c.switchToggleSide!==!0},()=>ue(C,{name:c.icon})))),c.disable!==!0&&c.hideExpandIcon!==!0&&oe[c.switchToggleSide===!0?"unshift":"push"](U()),oe}function ae(){const oe={ref:"item",style:c.headerStyle,class:c.headerClass,dark:s.value,disable:c.disable,dense:c.dense,insetLevel:c.headerInsetLevel};return I.value===!0&&(oe.clickable=!0,oe.onClick=P,Object.assign(oe,v.value===!0?L.value:q.value)),ue(J,oe,ve)}function ce(){return Y(ue("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:M.value,id:i.value},ht(n.default)),[[Xa,f.value]])}function Re(){const oe=[ae(),ue(Bm,{duration:c.duration,onShow:A,onHide:W},ce)];return c.expandSeparator===!0&&oe.push(ue(Ke,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),ue(Ke,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),oe}return c.group!==void 0&&$e(),Mt(()=>{d!==void 0&&d()}),()=>ue("div",{class:b.value},[ue("div",{class:"q-expansion-item__container relative-position"},Re())])}}),zm={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},Hm={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Ym={class:"text-bold"},Fm={class:"text-grey-8 text-caption"},Km={class:"absolute-bottom text-grey-6 q-pa-md"},jt="amanah-pos.layout.left-drawer-open",Qm={__name:"AuthenticatedLayout",setup(c){const n=ge(),p=de(),o=S(JSON.parse(localStorage.getItem(jt))),s=S(!1),f=()=>o.value=!o.value;return Ve(o,r=>{localStorage.setItem(jt,r)}),_e(()=>{o.value=JSON.parse(localStorage.getItem(jt)),n.screen.lt.md&&(o.value=!1)}),(r,i)=>(k(),E(La,{view:"lHh LpR lFf"},{default:l(()=>[e(Ua,null,{default:l(()=>[e(Oe,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[o.value?B("",!0):(k(),E(R,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:l(()=>[e(C,{class:"material-symbols-outlined"},{default:l(()=>i[21]||(i[21]=[g("dock_to_right")])),_:1})]),_:1})),at(r.$slots,"left-button",{},void 0,!0),e(Aa,{class:fe({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:l(()=>[at(r.$slots,"title",{},()=>[g(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),at(r.$slots,"right-button",{},void 0,!0)]),_:3}),at(r.$slots,"header",{},void 0,!0)]),_:3}),e(Da,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[20]||(i[20]=m=>o.value=m),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[a("div",zm,[a("div",Hm,[e(Ea,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=m=>s.value=m),class:fe(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:t(p).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(qe,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(J,null,{default:l(()=>[e(ot,{style:{"margin-left":"-15px"}},{default:l(()=>[e(C,{name:"person"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>[a("div",Ym,u(t(p).props.auth.user.name),1),a("div",Fm,u(r.$CONSTANTS.USER_ROLES[t(p).props.auth.user.role])+" @ "+u(t(p).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(Ke),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=m=>t(H).get(r.route("admin.profile.edit")))},{default:l(()=>[e(N,null,{default:l(()=>[e(re,null,{default:l(()=>[e(C,{name:"manage_accounts",class:"q-mr-sm"}),i[22]||(i[22]=g(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ne],[ee]]),r.$can("admin.company-profile.edit")?Y((k(),E(J,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=m=>t(H).get(r.route("admin.company-profile.edit")))},{default:l(()=>[e(N,null,{default:l(()=>[e(re,null,{default:l(()=>[e(C,{name:"home_work",class:"q-mr-sm"}),i[23]||(i[23]=g(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ne],[ee]]):B("",!0),e(Ke),Y((k(),E(J,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:l(()=>[e(N,null,{default:l(()=>[e(re,null,{default:l(()=>[e(C,{name:"logout",class:"q-mr-sm"}),i[24]||(i[24]=g(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[ne],[ee]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(k(),E(R,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:l(()=>[e(C,{name:"dock_to_right"})]),_:1})):B("",!0)])]),e(ja,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(qe,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[Y((k(),E(J,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=m=>t(H).get(r.route("admin.dashboard")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"dashboard"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[25]||(i[25]=[g("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(k(),E(lt,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:l(()=>[Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=m=>t(H).get(r.route("admin.sales-order.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[26]||(i[26]=[g("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=m=>t(H).get(r.route("admin.customer.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"people"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[27]||(i[27]=[g("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]])]),_:1},8,["default-opened"])):B("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(k(),E(lt,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=m=>t(H).get(r.route("admin.purchase-order.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[28]||(i[28]=[g("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=m=>t(H).get(r.route("admin.supplier.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"people"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[29]||(i[29]=[g("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]])]),_:1},8,["default-opened"])):B("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(k(),E(lt,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:l(()=>[Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=m=>t(H).get(r.route("admin.stock-adjustment.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"swap_vert"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[30]||(i[30]=[g("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=m=>t(H).get(r.route("admin.product.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"box"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[31]||(i[31]=[g("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=m=>t(H).get(r.route("admin.product-category.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"category"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[32]||(i[32]=[g("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]])]),_:1},8,["default-opened"])):B("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(k(),E(lt,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:i[11]||(i[11]=m=>t(H).get(r.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"add_task"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[33]||(i[33]=[g("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[12]||(i[12]=m=>t(H).get(r.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"moving"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[34]||(i[34]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]])]),_:1},8,["default-opened"])):B("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(k(),E(lt,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[13]||(i[13]=m=>t(H).get(r.route("admin.finance-transaction.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"moving"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[35]||(i[35]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[14]||(i[14]=m=>t(H).get(r.route("admin.finance-account.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"groups_2"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[36]||(i[36]=[g("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]])]),_:1},8,["default-opened"])):B("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(k(),E(lt,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[15]||(i[15]=m=>t(H).get(r.route("admin.operational-cost.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"request_quote"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[37]||(i[37]=[g("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[16]||(i[16]=m=>t(H).get(r.route("admin.operational-cost-category.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"category"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[38]||(i[38]=[g("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]])]),_:1},8,["default-opened"])):B("",!0),e(Ke),e(lt,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:l(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?Y((k(),E(J,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[17]||(i[17]=m=>t(H).get(r.route("admin.user.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"group"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[39]||(i[39]=[g("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]):B("",!0),Y((k(),E(J,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[18]||(i[18]=m=>t(H).get(r.route("admin.profile.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"manage_accounts"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[40]||(i[40]=[g("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?Y((k(),E(J,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[19]||(i[19]=m=>t(H).get(r.route("admin.company-profile.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"apartment"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[41]||(i[41]=[g("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[ee]]):B("",!0)]),_:1},8,["default-opened"]),e(Ke),Y((k(),E(J,{clickable:"",style:{color:"inherit"},href:r.route("customer.auth.logout")},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(C,{name:"logout"})]),_:1}),e(N,null,{default:l(()=>[e(re,null,{default:l(()=>i[42]||(i[42]=[g("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[ne],[ee]]),a("div",Km," © 2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Ba,{class:"bg-grey-1"},{default:l(()=>[e(he,null,{default:l(()=>[at(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),at(r.$slots,"footer",{},void 0,!0)]),_:3}))}},Wm=nt(Qm,[["__scopeId","data-v-5701f378"]]),Jm={__name:"GuestLayout",setup(c){return(n,p)=>(k(),E(za,null,{default:l(()=>[at(n.$slots,"default")]),_:3}))}};Ha({layouts:{authenticated:Wm,guest:Jm},pagesGlob:Object.assign({"./pages/About.vue":co,"./pages/auth/Login.vue":vo,"./pages/company-profile/Edit.vue":So,"./pages/company-profile/partials/CompanyInfoForm.vue":yo,"./pages/customer-wallet-transaction-confirmation/Index.vue":To,"./pages/customer-wallet-transaction/Adjustment.vue":Io,"./pages/customer-wallet-transaction/Editor.vue":Uo,"./pages/customer-wallet-transaction/Index.vue":zo,"./pages/customer/Detail.vue":bn,"./pages/customer/Editor.vue":wn,"./pages/customer/Index.vue":qn,"./pages/dashboard/Index.vue":Hn,"./pages/dashboard/cards/ChartCard.vue":Jn,"./pages/dashboard/cards/SummaryCard.vue":ss,"./pages/dashboard/cards/TopCard.vue":ds,"./pages/finance-account/Detail.vue":ws,"./pages/finance-account/Editor.vue":qs,"./pages/finance-account/Index.vue":As,"./pages/finance-transaction/Editor.vue":Bs,"./pages/finance-transaction/Index.vue":Gs,"./pages/operational-cost-category/Editor.vue":tr,"./pages/operational-cost-category/Index.vue":ir,"./pages/operational-cost/Detail.vue":_r,"./pages/operational-cost/Editor.vue":Sr,"./pages/operational-cost/Index.vue":Nr,"./pages/product-category/Editor.vue":Ar,"./pages/product-category/Index.vue":Hr,"./pages/product/Detail.vue":ii,"./pages/product/Editor.vue":pi,"./pages/product/Index.vue":$i,"./pages/profile/Edit.vue":Pi,"./pages/profile/partials/UpdatePasswordForm.vue":Si,"./pages/profile/partials/UpdateProfileInformationForm.vue":xi,"./pages/purchase-order/Editor.vue":mu,"./pages/purchase-order/Editor_v1.vue":fu,"./pages/purchase-order/Index.vue":$u,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":tu,"./pages/purchase-order/editor/ItemsListTable.vue":Fi,"./pages/purchase-order/editor/SupplierEditorDialog.vue":lu,"./pages/purchase-order/editor/TransactionHeader.vue":Bi,"./pages/purchase-order/editor/TransactionSummary.vue":Zi,"./pages/sales-order/Editor.vue":ud,"./pages/sales-order/Index.vue":vd,"./pages/sales-order/editor/ConfirmDeleteDialog.vue":Fu,"./pages/sales-order/editor/CustomerEditorDialog.vue":Ku,"./pages/sales-order/editor/ItemsListTable.vue":Au,"./pages/sales-order/editor/TransactionHeader.vue":Mu,"./pages/sales-order/editor/TransactionSummary.vue":Hu,"./pages/stock-adjustment/Create.vue":Cd,"./pages/stock-adjustment/Detail.vue":Ad,"./pages/stock-adjustment/Editor.vue":Hd,"./pages/stock-adjustment/Index.vue":em,"./pages/supplier/Detail.vue":rm,"./pages/supplier/Editor.vue":cm,"./pages/supplier/Index.vue":vm,"./pages/user/Detail.vue":Cm,"./pages/user/Editor.vue":Nm,"./pages/user/Index.vue":jm})});
